2025-08-07 18:40:39,075 - __main__ - INFO - Initializing CFR Document Analyzer database...
2025-08-07 18:40:39,075 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 18:40:39,077 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 18:40:39,077 - __main__ - INFO - Database initialized successfully at ./cfr_document_analyzer.db
2025-08-07 18:40:39,077 - __main__ - INFO - Ready for document analysis!
2025-08-07 18:41:53,683 - __main__ - INFO - Testing document retrieval...
2025-08-07 18:41:53,683 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 18:41:53,683 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 18:41:53,683 - cfr_agency_counter.api_client - INFO - Initialized API client with base URL: https://www.federalregister.gov/api/v1
2025-08-07 18:41:53,683 - cfr_agency_counter.api_client - INFO - Rate limit: 1.0 requests/second
2025-08-07 18:41:53,683 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized
2025-08-07 18:41:53,684 - __main__ - INFO - Testing with agency: national-credit-union-administration
2025-08-07 18:41:53,684 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 18:41:53,684 - cfr_agency_counter.api_client - DEBUG - Making request to https://www.federalregister.gov/documents.json (attempt 1)
2025-08-07 18:41:54,240 - cfr_agency_counter.api_client - ERROR - Received HTML response from https://www.federalregister.gov/documents.json - likely rate limited or blocked
2025-08-07 18:41:54,240 - cfr_agency_counter.api_client - ERROR - Unexpected error: Received HTML response - API may be rate limiting or blocking requests
2025-08-07 18:41:54,240 - cfr_document_analyzer.document_retriever - ERROR - Error fetching documents page 1: Unexpected error: Received HTML response - API may be rate limiting or blocking requests
2025-08-07 18:41:54,240 - cfr_document_analyzer.document_retriever - INFO - Fetched 0 document records from API
2025-08-07 18:41:54,240 - cfr_document_analyzer.document_retriever - INFO - Retrieved 0 documents with content for national-credit-union-administration
2025-08-07 18:41:54,240 - __main__ - INFO - Retrieved 0 documents
2025-08-07 18:41:54,240 - cfr_agency_counter.api_client - DEBUG - API client session closed
2025-08-07 18:41:54,240 - __main__ - INFO - Document retrieval test completed successfully!
2025-08-07 18:42:26,137 - __main__ - INFO - Testing basic setup...
2025-08-07 18:42:26,137 - __main__ - INFO - ✓ Configuration validation passed
2025-08-07 18:42:26,138 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 18:42:26,138 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 18:42:26,138 - __main__ - INFO - ✓ Database initialization passed
2025-08-07 18:42:26,138 - __main__ - INFO - ✓ Document model creation passed
2025-08-07 18:42:26,139 - __main__ - INFO - ✓ Document storage passed (ID: 1)
2025-08-07 18:42:26,139 - __main__ - INFO - ✓ Analysis storage passed (ID: 1)
2025-08-07 18:42:26,140 - __main__ - INFO - ✓ Document retrieval passed (1 documents)
2025-08-07 18:42:26,140 - __main__ - INFO - ✓ Analysis retrieval passed (1 analyses)
2025-08-07 18:42:26,140 - __main__ - INFO - All basic setup tests passed!
2025-08-07 18:43:46,747 - __main__ - INFO - Testing document retrieval...
2025-08-07 18:43:46,747 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 18:43:46,749 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 18:43:46,749 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 18:43:46,749 - __main__ - INFO - Testing with agency: national-credit-union-administration
2025-08-07 18:43:46,749 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 18:43:46,749 - cfr_document_analyzer.document_retriever - INFO - Fetching documents from https://www.federalregister.gov/documents/search for agency national-credit-union-administration
2025-08-07 18:43:47,270 - cfr_document_analyzer.document_retriever - INFO - Found 7 document elements on page
2025-08-07 18:43:47,271 - cfr_document_analyzer.document_retriever - INFO - Trying JSON API as fallback...
2025-08-07 18:43:47,360 - cfr_document_analyzer.document_retriever - INFO - JSON API fallback found 2 documents
2025-08-07 18:43:47,360 - cfr_document_analyzer.document_retriever - INFO - Fetched 2 document records from web scraping
2025-08-07 18:43:47,360 - cfr_document_analyzer.document_retriever - INFO - Processing document 1/2: 2025-14297
2025-08-07 18:43:47,360 - cfr_document_analyzer.document_retriever - DEBUG - Fetching content from: https://www.federalregister.gov/documents/full_text/xml/2025/07/29/2025-14297/renewal-of-agency-information-collections-for-comments-request-proposed-collections.xml
2025-08-07 18:43:47,486 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2025/07/29/2025-14297/renewal-of-agency-information-collections-for-comments-request-proposed-collections.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2025/07/29/2025-14297/renewal-of-agency-information-collections-for-comments-request-proposed-collections.xml
2025-08-07 18:43:47,486 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document 2025-14297
2025-08-07 18:43:48,487 - cfr_document_analyzer.document_retriever - INFO - Processing document 2/2: 2025-13627
2025-08-07 18:43:48,487 - cfr_document_analyzer.document_retriever - DEBUG - Fetching content from: https://www.federalregister.gov/documents/full_text/xml/2025/07/21/2025-13627.xml
2025-08-07 18:43:48,595 - cfr_document_analyzer.document_retriever - DEBUG - Cached document 2025-13627 with ID 2
2025-08-07 18:43:49,597 - cfr_document_analyzer.document_retriever - INFO - Retrieved 1 documents with content for national-credit-union-administration
2025-08-07 18:43:49,597 - __main__ - INFO - Retrieved 1 documents
2025-08-07 18:43:49,597 - __main__ - INFO - Document 1:
2025-08-07 18:43:49,597 - __main__ - INFO -   Number: 2025-13627
2025-08-07 18:43:49,597 - __main__ - INFO -   Title: Renewal of Agency Information Collection of a Previously Approved Collection; Request for Comments...
2025-08-07 18:43:49,597 - __main__ - INFO -   Content length: 5394
2025-08-07 18:43:49,597 - __main__ - INFO -   Has content: True
2025-08-07 18:43:49,597 - __main__ - INFO -   Content preview: NATIONAL CREDIT UNION ADMINISTRATION Renewal of Agency Information Collection of a Previously Approved Collection; Request for Comments AGENCY: National Credit Union Administration (NCUA). ACTION: Not...
2025-08-07 18:43:49,597 - __main__ - INFO - Document retrieval test completed successfully!
2025-08-07 18:44:54,022 - __main__ - INFO - Testing LLM client setup...
2025-08-07 18:44:54,022 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.0-flash-exp
2025-08-07 18:44:54,022 - __main__ - INFO - ✓ LLM client initialization passed
2025-08-07 18:44:54,022 - __main__ - INFO - ✓ Usage stats retrieval passed
2025-08-07 18:44:54,022 - __main__ - INFO - ✓ DOGE response parsing passed
2025-08-07 18:44:54,022 - __main__ - INFO -   Category: NSR
2025-08-07 18:44:54,023 - __main__ - INFO -   Statutory refs: 2
2025-08-07 18:44:54,023 - __main__ - INFO -   Recommendations: 3
2025-08-07 18:44:54,023 - __main__ - INFO - ✓ Rate limiting setup passed
2025-08-07 18:44:54,023 - __main__ - INFO - All LLM client setup tests passed!
2025-08-07 18:45:48,531 - __main__ - INFO - Testing prompt manager...
2025-08-07 18:45:48,531 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 18:45:48,531 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 18:45:48,531 - __main__ - INFO - ✓ Prompt manager initialization passed
2025-08-07 18:45:48,531 - __main__ - INFO - ✓ Available packages: ['DOGE Criteria']
2025-08-07 18:45:48,531 - __main__ - INFO - ✓ DOGE package loaded with 3 prompts
2025-08-07 18:45:48,531 - __main__ - INFO - ✓ Package validation passed
2025-08-07 18:45:48,531 - __main__ - INFO - ✓ Prompt formatting passed
2025-08-07 18:45:48,531 - __main__ - INFO - ✓ Package info: {'name': 'DOGE Criteria', 'description': 'Department of Government Efficiency analysis criteria for regulation categorization and reform recommendations', 'version': '1.0', 'prompt_count': 3, 'total_length': 2082}
2025-08-07 18:45:48,531 - __main__ - ERROR - Prompt manager test failed: 
2025-08-07 18:45:58,625 - __main__ - INFO - Testing prompt manager...
2025-08-07 18:45:58,629 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 18:45:58,629 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 18:45:58,629 - __main__ - INFO - ✓ Prompt manager initialization passed
2025-08-07 18:45:58,629 - __main__ - INFO - ✓ Available packages: ['DOGE Criteria']
2025-08-07 18:45:58,629 - __main__ - INFO - ✓ DOGE package loaded with 3 prompts
2025-08-07 18:45:58,629 - __main__ - INFO - ✓ Package validation passed
2025-08-07 18:45:58,629 - __main__ - INFO - ✓ Prompt formatting passed
2025-08-07 18:45:58,629 - __main__ - INFO - ✓ Package info: {'name': 'DOGE Criteria', 'description': 'Department of Government Efficiency analysis criteria for regulation categorization and reform recommendations', 'version': '1.0', 'prompt_count': 3, 'total_length': 2082}
2025-08-07 18:45:58,629 - __main__ - INFO - Valid prompt errors: ['Prompt 1 seems too short (less than 50 characters)']
2025-08-07 18:45:58,629 - __main__ - INFO - Invalid prompt errors: ['Prompt 1 missing {text} placeholder', 'Prompt 1 seems too short (less than 50 characters)']
2025-08-07 18:45:58,629 - __main__ - ERROR - Prompt manager test failed: Expected no errors for valid prompts, got: ['Prompt 1 seems too short (less than 50 characters)']
2025-08-07 18:46:08,095 - __main__ - INFO - Testing prompt manager...
2025-08-07 18:46:08,117 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 18:46:08,117 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 18:46:08,117 - __main__ - INFO - ✓ Prompt manager initialization passed
2025-08-07 18:46:08,117 - __main__ - INFO - ✓ Available packages: ['DOGE Criteria']
2025-08-07 18:46:08,117 - __main__ - INFO - ✓ DOGE package loaded with 3 prompts
2025-08-07 18:46:08,117 - __main__ - INFO - ✓ Package validation passed
2025-08-07 18:46:08,117 - __main__ - INFO - ✓ Prompt formatting passed
2025-08-07 18:46:08,120 - __main__ - INFO - ✓ Package info: {'name': 'DOGE Criteria', 'description': 'Department of Government Efficiency analysis criteria for regulation categorization and reform recommendations', 'version': '1.0', 'prompt_count': 3, 'total_length': 2082}
2025-08-07 18:46:08,120 - __main__ - INFO - Valid prompt errors: []
2025-08-07 18:46:08,120 - __main__ - INFO - Invalid prompt errors: ['Prompt 1 missing {text} placeholder', 'Prompt 1 seems too short (less than 50 characters)']
2025-08-07 18:46:08,120 - __main__ - INFO - ✓ Prompt validation tests passed
2025-08-07 18:46:08,120 - cfr_document_analyzer.prompt_manager - INFO - Created custom prompt package: Test Package
2025-08-07 18:46:08,120 - __main__ - INFO - ✓ Custom package creation passed
2025-08-07 18:46:08,120 - __main__ - INFO - All prompt manager tests passed!
2025-08-07 18:47:09,013 - __main__ - INFO - Starting proof of concept test...
2025-08-07 18:47:09,013 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 18:47:09,016 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 18:47:09,016 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 18:47:09,016 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.0-flash-exp
2025-08-07 18:47:09,016 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 18:47:09,016 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 18:47:09,016 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 18:47:09,016 - __main__ - INFO - ✓ Components initialized
2025-08-07 18:47:09,016 - __main__ - INFO - Testing with agency: national-credit-union-administration
2025-08-07 18:47:09,016 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 18:47:09,018 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 18:47:09,018 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 18:47:09,019 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 18:47:09,019 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 18:47:09,019 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 18:47:09,019 - cfr_document_analyzer.llm_client - DEBUG - Analyzing document 2025-13627 with model gemini/gemini-2.0-flash-exp
2025-08-07 18:47:09,019 - cfr_document_analyzer.llm_client - ERROR - LLM analysis failed for document 2025-13627: nimble-llm-caller not available
2025-08-07 18:47:09,019 - cfr_document_analyzer.analysis_engine - DEBUG - Analysis completed for document 2025-13627 in 0.00s
2025-08-07 18:47:09,020 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 18:47:09,020 - __main__ - INFO - Analysis session created: session_20250807_184709
2025-08-07 18:47:09,020 - __main__ - INFO - Session status: SessionStatus.COMPLETED
2025-08-07 18:47:09,020 - __main__ - INFO - Documents processed: 1/1
2025-08-07 18:47:09,020 - __main__ - INFO - ✓ Document analysis completed successfully
2025-08-07 18:47:09,021 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_184709
2025-08-07 18:47:09,021 - __main__ - INFO - Retrieved 1 detailed results
2025-08-07 18:47:09,021 - __main__ - INFO - ✓ Analysis result details:
2025-08-07 18:47:09,021 - __main__ - INFO -   Document: 2025-13627
2025-08-07 18:47:09,021 - __main__ - INFO -   Title: Renewal of Agency Information Collection of a Previously Approved Collection; Request for Comments...
2025-08-07 18:47:09,021 - __main__ - INFO -   Category: UNKNOWN
2025-08-07 18:47:09,021 - __main__ - INFO -   Success: True
2025-08-07 18:47:09,021 - __main__ - INFO -   Processing time: 0.00s
2025-08-07 18:47:09,021 - __main__ - INFO - ✓ Usage statistics:
2025-08-07 18:47:09,021 - __main__ - INFO -   Total LLM calls: 1
2025-08-07 18:47:09,021 - __main__ - INFO -   Successful calls: 0
2025-08-07 18:47:09,021 - __main__ - INFO -   Success rate: 0.0%
2025-08-07 18:47:09,021 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 18:47:09,021 - __main__ - INFO - 🎉 Proof of concept test PASSED!
2025-08-07 18:47:09,021 - __main__ - INFO - The system successfully:
2025-08-07 18:47:09,021 - __main__ - INFO -   - Retrieved documents from Federal Register
2025-08-07 18:47:09,021 - __main__ - INFO -   - Analyzed content using DOGE criteria
2025-08-07 18:47:09,021 - __main__ - INFO -   - Stored results in database
2025-08-07 18:47:09,021 - __main__ - INFO -   - Generated structured analysis output
2025-08-07 18:48:16,326 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 18:48:16,327 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 18:48:21,551 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 18:48:21,552 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 18:48:21,552 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 18:48:21,552 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.0-flash-exp
2025-08-07 18:48:21,552 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 18:48:21,552 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 18:48:21,552 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 18:48:21,552 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 18:48:21,552 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 18:48:21,552 - cfr_document_analyzer.cli - INFO - Document limit: 1
2025-08-07 18:48:21,552 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 18:48:21,553 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 18:48:21,553 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 18:48:21,554 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 18:48:21,554 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 18:48:21,554 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 18:48:21,554 - cfr_document_analyzer.llm_client - ERROR - LLM analysis failed for document 2025-13627: nimble-llm-caller not available
2025-08-07 18:48:21,555 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 18:48:21,555 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_184821
2025-08-07 18:48:21,555 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 18:56:53,371 - __main__ - INFO - Testing real LLM call...
2025-08-07 18:56:53,371 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.0-flash-exp
2025-08-07 18:56:53,371 - __main__ - INFO - Making LLM call for DOGE analysis...
2025-08-07 18:56:53,371 - cfr_document_analyzer.llm_client - DEBUG - Analyzing document test_regulation with model gemini/gemini-2.0-flash-exp
2025-08-07 18:56:53,371 - cfr_document_analyzer.llm_client - ERROR - LLM analysis failed for document test_regulation: LLMCaller.call() got an unexpected keyword argument 'model'
2025-08-07 18:56:53,371 - __main__ - INFO - ✓ LLM call successful!
2025-08-07 18:56:53,371 - __main__ - INFO - Category: UNKNOWN
2025-08-07 18:56:53,371 - __main__ - INFO - Statutory references: 0
2025-08-07 18:56:53,371 - __main__ - INFO - Reform recommendations: 0
2025-08-07 18:56:53,371 - __main__ - INFO - Justification preview: Analysis failed: LLM analysis failed for document test_regulation: LLMCaller.call() got an unexpected keyword argument 'model'...
2025-08-07 18:56:53,371 - __main__ - INFO - Usage stats: 1 calls, 0 successful
2025-08-07 19:14:52,454 - __main__ - INFO - Starting complete proof of concept test...
2025-08-07 19:14:52,454 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 19:14:52,456 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 19:14:52,456 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 19:14:52,456 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.0-flash-exp
2025-08-07 19:14:52,456 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 19:14:52,456 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 19:14:52,456 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 19:14:52,456 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 19:14:52,456 - __main__ - INFO - ✓ All components initialized successfully
2025-08-07 19:14:52,456 - __main__ - INFO - 
=== Testing Agency 1/3: national-credit-union-administration ===
2025-08-07 19:14:52,456 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 19:14:52,458 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 2)
2025-08-07 19:14:52,458 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 19:14:52,458 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 19:14:52,458 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 19:14:52,458 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 19:14:52,458 - cfr_document_analyzer.llm_client - DEBUG - Analyzing document 2025-13627 with model gemini/gemini-2.0-flash-exp
2025-08-07 19:14:52,458 - cfr_document_analyzer.llm_client - ERROR - LLM analysis failed for document 2025-13627: LLMCaller.call() got an unexpected keyword argument 'model'
2025-08-07 19:14:52,459 - cfr_document_analyzer.analysis_engine - DEBUG - Analysis completed for document 2025-13627 in 0.00s
2025-08-07 19:14:52,460 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 19:14:52,460 - __main__ - INFO - Session session_20250807_191452 completed with status: SessionStatus.COMPLETED
2025-08-07 19:14:52,460 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_191452
2025-08-07 19:14:52,460 - __main__ - INFO - Testing export functionality for national-credit-union-administration...
2025-08-07 19:14:52,460 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv']
2025-08-07 19:14:52,461 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_191452.json
2025-08-07 19:14:52,461 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_191452.csv
2025-08-07 19:14:52,461 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_191452.md
2025-08-07 19:14:52,461 - __main__ - INFO - ✓ Export test passed for national-credit-union-administration
2025-08-07 19:14:52,461 - __main__ - INFO - 
=== Testing Agency 2/3: farm-credit-administration ===
2025-08-07 19:14:52,461 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: farm-credit-administration
2025-08-07 19:14:52,461 - __main__ - ERROR - Error testing farm-credit-administration: UNIQUE constraint failed: sessions.session_id
2025-08-07 19:14:52,461 - __main__ - INFO - 
=== Testing Agency 3/3: federal-housing-finance-agency ===
2025-08-07 19:14:52,461 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: federal-housing-finance-agency
2025-08-07 19:14:52,461 - __main__ - ERROR - Error testing federal-housing-finance-agency: UNIQUE constraint failed: sessions.session_id
2025-08-07 19:14:52,461 - __main__ - INFO - 
============================================================
2025-08-07 19:14:52,461 - __main__ - INFO - PROOF OF CONCEPT TEST SUMMARY
2025-08-07 19:14:52,461 - __main__ - INFO - ============================================================
2025-08-07 19:14:52,461 - __main__ - INFO - 
National Credit Union Administration:
2025-08-07 19:14:52,461 - __main__ - INFO -   ✓ SUCCESS
2025-08-07 19:14:52,461 - __main__ - INFO -   Session: session_20250807_191452
2025-08-07 19:14:52,461 - __main__ - INFO -   Documents: 1/1
2025-08-07 19:14:52,461 - __main__ - INFO -   Results: 1
2025-08-07 19:14:52,461 - __main__ - INFO -   Exports: 2 files
2025-08-07 19:14:52,461 - __main__ - INFO -   Summary: Generated
2025-08-07 19:14:52,461 - __main__ - INFO - 
Farm Credit Administration:
2025-08-07 19:14:52,461 - __main__ - INFO -   ✗ FAILED: UNIQUE constraint failed: sessions.session_id
2025-08-07 19:14:52,461 - __main__ - INFO - 
Federal Housing Finance Agency:
2025-08-07 19:14:52,461 - __main__ - INFO -   ✗ FAILED: UNIQUE constraint failed: sessions.session_id
2025-08-07 19:14:52,461 - __main__ - INFO - 
OVERALL RESULTS:
2025-08-07 19:14:52,461 - __main__ - INFO -   Agencies tested: 3
2025-08-07 19:14:52,461 - __main__ - INFO -   Successful: 1
2025-08-07 19:14:52,462 - __main__ - INFO -   Success rate: 33.3%
2025-08-07 19:14:52,462 - __main__ - INFO -   Total documents processed: 1
2025-08-07 19:14:52,462 - __main__ - INFO - 
LLM USAGE STATISTICS:
2025-08-07 19:14:52,462 - __main__ - INFO -   Total calls: 1
2025-08-07 19:14:52,462 - __main__ - INFO -   Successful calls: 0
2025-08-07 19:14:52,462 - __main__ - INFO -   Success rate: 0.0%
2025-08-07 19:14:52,462 - __main__ - INFO -   Total time: 0.0s
2025-08-07 19:14:52,462 - __main__ - INFO - 
DATABASE STATISTICS:
2025-08-07 19:14:52,462 - __main__ - INFO -   Documents cached: 2
2025-08-07 19:14:52,462 - __main__ - INFO -   Analyses completed: 4
2025-08-07 19:14:52,462 - __main__ - INFO -   Sessions created: 3
2025-08-07 19:14:52,462 - __main__ - INFO - 
🎉 PROOF OF CONCEPT: SUCCESS!
2025-08-07 19:14:52,462 - __main__ - INFO - The system demonstrates:
2025-08-07 19:14:52,462 - __main__ - INFO -   ✓ Document retrieval from Federal Register
2025-08-07 19:14:52,462 - __main__ - INFO -   ✓ Multi-agency processing capability
2025-08-07 19:14:52,462 - __main__ - INFO -   ✓ Analysis pipeline (ready for LLM integration)
2025-08-07 19:14:52,462 - __main__ - INFO -   ✓ Database storage and retrieval
2025-08-07 19:14:52,462 - __main__ - INFO -   ✓ Export functionality for agency presentation
2025-08-07 19:14:52,462 - __main__ - INFO -   ✓ Error handling and validation
2025-08-07 19:14:52,462 - __main__ - INFO -   ✓ CLI interface for operations
2025-08-07 19:14:52,462 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 19:15:12,048 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 19:15:12,048 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 19:15:12,048 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 19:15:12,048 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.0-flash-exp
2025-08-07 19:15:12,048 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 19:15:12,048 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 19:15:12,048 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 19:15:12,048 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 19:15:12,048 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 19:15:12,048 - cfr_document_analyzer.cli - INFO - Document limit: 1
2025-08-07 19:15:12,048 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 19:15:12,049 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 19:15:12,049 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 19:15:12,050 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 19:15:12,050 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 19:15:12,050 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 19:15:12,050 - cfr_document_analyzer.llm_client - ERROR - LLM analysis failed for document 2025-13627: LLMCaller.call() got an unexpected keyword argument 'model'
2025-08-07 19:15:12,051 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 19:15:12,051 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_191512_dcf0e976
2025-08-07 19:15:12,051 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 19:15:12,051 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 19:15:12,051 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_191512.json
2025-08-07 19:15:12,051 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_191512.csv
2025-08-07 19:15:12,051 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_191512.html
2025-08-07 19:15:12,052 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_191512.md
2025-08-07 19:15:12,052 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 22:57:58,136 - __main__ - INFO - Testing real LLM call...
2025-08-07 22:57:58,136 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.0-flash-exp
2025-08-07 22:57:58,136 - __main__ - INFO - Making LLM call for DOGE analysis...
2025-08-07 22:57:58,136 - cfr_document_analyzer.llm_client - DEBUG - Analyzing document test_regulation with model gemini/gemini-2.0-flash-exp
2025-08-07 22:57:58,137 - nimble_llm_caller.core.llm_caller - DEBUG - Making LiteLLM call to gemini/gemini-2.0-flash-exp with 1 messages
2025-08-07 22:57:58,137 - LiteLLM - DEBUG - 

2025-08-07 22:57:58,137 - LiteLLM - DEBUG - [92mRequest to litellm:[0m
2025-08-07 22:57:58,137 - LiteLLM - DEBUG - [92mlitellm.completion(model='gemini/gemini-2.0-flash-exp', messages=[{'role': 'user', 'content': 'Process this request: doge_analysis_test_regulation'}], max_tokens=4000, temperature=0.1)[0m
2025-08-07 22:57:58,137 - LiteLLM - DEBUG - 

2025-08-07 22:57:58,137 - LiteLLM - DEBUG - self.optional_params: {}
2025-08-07 22:57:58,137 - LiteLLM - DEBUG - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
2025-08-07 22:57:58,139 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.0-flash-exp', 'combined_model_name': 'vertex_ai/gemini-2.0-flash-exp', 'stripped_model_name': 'gemini-2.0-flash-exp', 'combined_stripped_model_name': 'vertex_ai/gemini-2.0-flash-exp', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 22:57:58,139 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-08-07 22:57:58,139 - LiteLLM - DEBUG - 
LiteLLM: Params passed to completion() {'model': 'gemini-2.0-flash-exp', 'functions': None, 'function_call': None, 'temperature': 0.1, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'gemini', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'allowed_openai_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'user', 'content': 'Process this request: doge_analysis_test_regulation'}], 'thinking': None}
2025-08-07 22:57:58,139 - LiteLLM - DEBUG - 
LiteLLM: Non-Default params passed to completion() {'temperature': 0.1, 'max_tokens': 4000}
2025-08-07 22:57:58,139 - LiteLLM - DEBUG - Final returned optional params: {'temperature': 0.1, 'max_output_tokens': 4000}
2025-08-07 22:57:58,139 - LiteLLM - DEBUG - self.optional_params: {'temperature': 0.1, 'max_output_tokens': 4000}
2025-08-07 22:57:58,140 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.0-flash-exp', 'combined_model_name': 'gemini/gemini-2.0-flash-exp', 'stripped_model_name': 'gemini-2.0-flash-exp', 'combined_stripped_model_name': 'gemini/gemini-2.0-flash-exp', 'custom_llm_provider': 'gemini'}
2025-08-07 22:57:58,140 - LiteLLM - DEBUG - [92m

POST Request Sent from LiteLLM:
curl -X POST \
https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=*****None \
-H 'Content-Type: ap****on' \
-d '{'contents': [{'role': 'user', 'parts': [{'text': 'Process this request: doge_analysis_test_regulation'}]}], 'generationConfig': {'temperature': 0.1, 'max_output_tokens': 4000}}'
[0m

2025-08-07 22:57:58,153 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=600.0 socket_options=None
2025-08-07 22:57:58,330 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11b1e0920>
2025-08-07 22:57:58,331 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x11b5158d0> server_hostname='generativelanguage.googleapis.com' timeout=600.0
2025-08-07 22:57:58,546 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11b328440>
2025-08-07 22:57:58,547 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-07 22:57:58,547 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-07 22:57:58,547 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-07 22:57:58,547 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-07 22:57:58,547 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-07 22:57:58,591 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Fri, 08 Aug 2025 02:57:58 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=16'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-08-07 22:57:58,592 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=None "HTTP/1.1 400 Bad Request"
2025-08-07 22:57:58,592 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-07 22:57:58,592 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-07 22:57:58,592 - httpcore.http11 - DEBUG - response_closed.started
2025-08-07 22:57:58,592 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-07 22:57:58,592 - LiteLLM - DEBUG - Logging Details: logger_fn - None | callable(logger_fn) - False
2025-08-07 22:57:58,602 - LiteLLM - DEBUG - Logging Details LiteLLM-Failure Call: []
2025-08-07 22:57:58,691 - nimble_llm_caller.utils.retry_strategy - ERROR - Non-retryable error for LLM call to gemini/gemini-2.0-flash-exp: litellm.AuthenticationError: geminiException - {
  "error": {
    "code": 400,
    "message": "API key not valid. Please pass a valid API key.",
    "status": "INVALID_ARGUMENT",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "API_KEY_INVALID",
        "domain": "googleapis.com",
        "metadata": {
          "service": "generativelanguage.googleapis.com"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "API key not valid. Please pass a valid API key."
      }
    ]
  }
}

2025-08-07 22:57:58,692 - nimble_llm_caller.core.llm_caller - ERROR - ❌ Failed LLM call to gemini/gemini-2.0-flash-exp for doge_analysis_test_regulation: litellm.AuthenticationError: geminiException - {
  "error": {
    "code": 400,
    "message": "API key not valid. Please pass a valid API key.",
    "status": "INVALID_ARGUMENT",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "API_KEY_INVALID",
        "domain": "googleapis.com",
        "metadata": {
          "service": "generativelanguage.googleapis.com"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "API key not valid. Please pass a valid API key."
      }
    ]
  }
}

2025-08-07 22:57:58,692 - cfr_document_analyzer.llm_client - DEBUG - Successfully analyzed document test_regulation in 0.56s
2025-08-07 22:57:58,692 - cfr_document_analyzer.llm_client - ERROR - Error parsing DOGE response: expected string or bytes-like object, got 'NoneType'
2025-08-07 22:57:58,692 - __main__ - INFO - ✓ LLM call successful!
2025-08-07 22:57:58,692 - __main__ - INFO - Category: UNKNOWN
2025-08-07 22:57:58,692 - __main__ - INFO - Statutory references: 0
2025-08-07 22:57:58,692 - __main__ - INFO - Reform recommendations: 0
2025-08-07 22:57:58,692 - __main__ - INFO - Justification preview: Parsing failed: expected string or bytes-like object, got 'NoneType'

Raw response: None...
2025-08-07 22:57:58,692 - __main__ - INFO - Usage stats: 1 calls, 1 successful
2025-08-07 22:58:07,675 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 22:58:07,676 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 22:58:07,676 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 22:58:07,676 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.0-flash-exp
2025-08-07 22:58:07,676 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 22:58:07,676 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 22:58:07,676 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 22:58:07,676 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 22:58:07,676 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 22:58:07,676 - cfr_document_analyzer.cli - INFO - Document limit: 1
2025-08-07 22:58:07,676 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 22:58:07,678 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 22:58:07,678 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 22:58:07,678 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 22:58:07,678 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 22:58:07,678 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 22:58:07,681 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.0-flash-exp; provider = gemini
2025-08-07 22:58:07,860 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=None "HTTP/1.1 400 Bad Request"
2025-08-07 22:58:07,869 - nimble_llm_caller.utils.retry_strategy - ERROR - Non-retryable error for LLM call to gemini/gemini-2.0-flash-exp: litellm.AuthenticationError: geminiException - {
  "error": {
    "code": 400,
    "message": "API key not valid. Please pass a valid API key.",
    "status": "INVALID_ARGUMENT",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "API_KEY_INVALID",
        "domain": "googleapis.com",
        "metadata": {
          "service": "generativelanguage.googleapis.com"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "API key not valid. Please pass a valid API key."
      }
    ]
  }
}

2025-08-07 22:58:07,869 - nimble_llm_caller.core.llm_caller - ERROR - ❌ Failed LLM call to gemini/gemini-2.0-flash-exp for doge_analysis_2025-13627: litellm.AuthenticationError: geminiException - {
  "error": {
    "code": 400,
    "message": "API key not valid. Please pass a valid API key.",
    "status": "INVALID_ARGUMENT",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "API_KEY_INVALID",
        "domain": "googleapis.com",
        "metadata": {
          "service": "generativelanguage.googleapis.com"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "API key not valid. Please pass a valid API key."
      }
    ]
  }
}

2025-08-07 22:58:07,870 - cfr_document_analyzer.llm_client - ERROR - Error parsing DOGE response: expected string or bytes-like object, got 'NoneType'
2025-08-07 22:58:07,872 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 22:58:07,873 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_225807_87b84f9d
2025-08-07 22:58:07,873 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 22:58:07,874 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 22:58:07,874 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_225807.json
2025-08-07 22:58:07,874 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_225807.csv
2025-08-07 22:58:07,874 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_225807.html
2025-08-07 22:58:07,874 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_225807.md
2025-08-07 22:58:07,874 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 23:02:15,187 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 23:02:15,187 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 23:02:15,187 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 23:02:15,187 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:02:15,187 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:02:15,187 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 23:02:15,187 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 23:02:15,187 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 23:02:15,187 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:02:15,187 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 23:02:15,187 - cfr_document_analyzer.cli - INFO - Document limit: 1
2025-08-07 23:02:15,187 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:02:15,189 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 23:02:15,189 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 23:02:15,189 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 23:02:15,189 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 23:02:15,189 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 23:02:15,191 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:02:27,268 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:02:27,270 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-07 23:02:27,270 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:02:27,270 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:02:27,271 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:02:27,271 - nimble_llm_caller.core.llm_caller - ERROR - ❌ Failed LLM call to gemini/gemini-2.5-flash for doge_analysis_2025-13627: 2 validation errors for LLMResponse
tokens_used.completion_tokens_details
  Input should be a valid integer [type=int_type, input_value={'accepted_prediction_tok...rediction_tokens': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tokens_used.prompt_tokens_details
  Input should be a valid integer [type=int_type, input_value={'audio_tokens': None, 'cached_tokens': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-08-07 23:02:27,272 - cfr_document_analyzer.llm_client - ERROR - Error parsing DOGE response: expected string or bytes-like object, got 'NoneType'
2025-08-07 23:02:27,276 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 23:02:27,276 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_230215_dff0fb59
2025-08-07 23:02:27,276 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 23:02:27,276 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 23:02:27,277 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_230227.json
2025-08-07 23:02:27,277 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_230227.csv
2025-08-07 23:02:27,277 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_230227.html
2025-08-07 23:02:27,277 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_230227.md
2025-08-07 23:02:27,277 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 23:16:11,450 - __main__ - INFO - Testing CFR Document Analyzer with mock LLM responses...
2025-08-07 23:16:11,450 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 23:16:11,451 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 23:16:11,451 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 23:16:11,451 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:16:11,451 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:16:11,451 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 23:16:11,451 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 23:16:11,451 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 23:16:11,451 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 23:16:11,451 - __main__ - INFO - ✓ Components initialized with mock LLM
2025-08-07 23:16:11,451 - __main__ - INFO - Testing analysis with national-credit-union-administration
2025-08-07 23:16:11,451 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:16:11,453 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 23:16:11,453 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 23:16:11,453 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 23:16:11,453 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 23:16:11,453 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 23:16:11,453 - cfr_document_analyzer.analysis_engine - DEBUG - Analysis completed for document 2025-13627 in 0.00s
2025-08-07 23:16:11,454 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 23:16:11,454 - __main__ - INFO - Analysis session: session_20250807_231611_94381207
2025-08-07 23:16:11,454 - __main__ - INFO - Status: SessionStatus.COMPLETED
2025-08-07 23:16:11,454 - __main__ - INFO - Documents processed: 1/1
2025-08-07 23:16:11,455 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_231611_94381207
2025-08-07 23:16:11,455 - __main__ - INFO - Retrieved 1 analysis results
2025-08-07 23:16:11,455 - __main__ - INFO - ✓ MOCK ANALYSIS RESULTS:
2025-08-07 23:16:11,455 - __main__ - INFO -   Document: 2025-13627
2025-08-07 23:16:11,455 - __main__ - INFO -   Title: Renewal of Agency Information Collection of a Previously Approved Collection; Request for Comments...
2025-08-07 23:16:11,455 - __main__ - INFO -   Category: NSR
2025-08-07 23:16:11,455 - __main__ - INFO -   Statutory References: 2
2025-08-07 23:16:11,455 - __main__ - INFO -   Reform Recommendations: 3
2025-08-07 23:16:11,455 - __main__ - INFO -   Success: True
2025-08-07 23:16:11,455 - __main__ - INFO -   Sample Statutory Reference:
2025-08-07 23:16:11,455 - __main__ - INFO -     - 44 U.S.C. § 3501 et seq. (Paperwork Reduction Act)
2025-08-07 23:16:11,455 - __main__ - INFO -   Sample Reform Recommendation:
2025-08-07 23:16:11,455 - __main__ - INFO -     - Simplify information collection requirements to reduce administrative burden on credit unions
2025-08-07 23:16:11,455 - __main__ - INFO -   Justification Preview: This regulation appears to be Not Statutorily Required (NSR) as it implements 
administrative procedures for information collection that, while authorized by the Paperwork Reduction Act 
and Federal C...
2025-08-07 23:16:11,455 - __main__ - INFO - Testing export functionality...
2025-08-07 23:16:11,455 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 23:16:11,455 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_231611.json
2025-08-07 23:16:11,456 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_231611.csv
2025-08-07 23:16:11,456 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_231611.html
2025-08-07 23:16:11,456 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_231611.md
2025-08-07 23:16:11,456 - __main__ - INFO - ✓ EXPORT FILES GENERATED:
2025-08-07 23:16:11,456 - __main__ - INFO -   JSON: results/cfr_analysis_National Credit Union Administration_20250807_231611.json
2025-08-07 23:16:11,456 - __main__ - INFO -   CSV: results/cfr_analysis_National Credit Union Administration_20250807_231611.csv
2025-08-07 23:16:11,456 - __main__ - INFO -   HTML: results/cfr_analysis_National Credit Union Administration_20250807_231611.html
2025-08-07 23:16:11,456 - __main__ - INFO -   Agency Summary: results/agency_presentation_National Credit Union Administration_20250807_231611.md
2025-08-07 23:16:11,456 - __main__ - INFO - ✓ USAGE STATISTICS:
2025-08-07 23:16:11,456 - __main__ - INFO -   Total calls: 1
2025-08-07 23:16:11,456 - __main__ - INFO -   Successful calls: 1
2025-08-07 23:16:11,456 - __main__ - INFO -   Success rate: 100.0%
2025-08-07 23:16:11,456 - __main__ - INFO -   Total tokens: 1500
2025-08-07 23:16:11,456 - __main__ - INFO -   Total time: 2.5s
2025-08-07 23:16:11,456 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 23:16:11,456 - __main__ - INFO - 
🎉 MOCK TEST SUCCESSFUL!
2025-08-07 23:16:11,456 - __main__ - INFO - The system demonstrates complete functionality:
2025-08-07 23:16:11,456 - __main__ - INFO -   ✓ Document retrieval from Federal Register
2025-08-07 23:16:11,456 - __main__ - INFO -   ✓ DOGE analysis with SR/NSR/NRAN categorization
2025-08-07 23:16:11,456 - __main__ - INFO -   ✓ Statutory reference identification
2025-08-07 23:16:11,456 - __main__ - INFO -   ✓ Reform recommendation generation
2025-08-07 23:16:11,456 - __main__ - INFO -   ✓ Professional report generation
2025-08-07 23:16:11,456 - __main__ - INFO -   ✓ Multiple export formats
2025-08-07 23:16:11,456 - __main__ - INFO -   ✓ Agency presentation materials
2025-08-07 23:16:11,456 - __main__ - INFO - 
Once the LLM integration is fixed, this will work with real AI analysis!
2025-08-07 23:18:02,257 - __main__ - INFO - Testing direct LLM call...
2025-08-07 23:18:02,667 - httpcore.connection - DEBUG - connect_tcp.started host='raw.githubusercontent.com' port=443 local_address=None timeout=5 socket_options=None
2025-08-07 23:18:02,685 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10856cd40>
2025-08-07 23:18:02,685 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1085becd0> server_hostname='raw.githubusercontent.com' timeout=5
2025-08-07 23:18:02,706 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108705d00>
2025-08-07 23:18:02,707 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'GET']>
2025-08-07 23:18:02,707 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-07 23:18:02,707 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'GET']>
2025-08-07 23:18:02,707 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-07 23:18:02,707 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'GET']>
2025-08-07 23:18:02,728 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Connection', b'keep-alive'), (b'Content-Length', b'30436'), (b'Cache-Control', b'max-age=300'), (b'Content-Security-Policy', b"default-src 'none'; style-src 'unsafe-inline'; sandbox"), (b'Content-Type', b'text/plain; charset=utf-8'), (b'ETag', b'W/"75a8e20a032a51390799c90184fd57dc53f764fc5f48c3dc9356460159129a2e"'), (b'Strict-Transport-Security', b'max-age=31536000'), (b'X-Content-Type-Options', b'nosniff'), (b'X-Frame-Options', b'deny'), (b'X-XSS-Protection', b'1; mode=block'), (b'X-GitHub-Request-Id', b'ED40:3B2EBB:222898:28CA29:689528DE'), (b'Content-Encoding', b'gzip'), (b'Accept-Ranges', b'bytes'), (b'Date', b'Fri, 08 Aug 2025 03:18:02 GMT'), (b'Via', b'1.1 varnish'), (b'X-Served-By', b'cache-dtw8031-DTW'), (b'X-Cache', b'HIT'), (b'X-Cache-Hits', b'3'), (b'X-Timer', b'S1754623083.878953,VS0,VE0'), (b'Vary', b'Authorization,Accept-Encoding'), (b'Access-Control-Allow-Origin', b'*'), (b'Cross-Origin-Resource-Policy', b'cross-origin'), (b'X-Fastly-Request-ID', b'2cf07d05101bdced964f6c37f340d0589c989777'), (b'Expires', b'Fri, 08 Aug 2025 03:23:02 GMT'), (b'Source-Age', b'219')])
2025-08-07 23:18:02,729 - httpx - INFO - HTTP Request: GET https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json "HTTP/1.1 200 OK"
2025-08-07 23:18:02,729 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'GET']>
2025-08-07 23:18:02,735 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-07 23:18:02,736 - httpcore.http11 - DEBUG - response_closed.started
2025-08-07 23:18:02,736 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-07 23:18:02,736 - httpcore.connection - DEBUG - close.started
2025-08-07 23:18:02,736 - httpcore.connection - DEBUG - close.complete
2025-08-07 23:18:02,872 - LiteLLM - DEBUG - [Non-Blocking] Unable to import GenericAPILogger - LiteLLM Enterprise Feature - No module named 'litellm_enterprise'
2025-08-07 23:18:02,958 - __main__ - INFO - API key set
2025-08-07 23:18:02,958 - LiteLLM - DEBUG - 

2025-08-07 23:18:02,958 - LiteLLM - DEBUG - [92mRequest to litellm:[0m
2025-08-07 23:18:02,959 - LiteLLM - DEBUG - [92mlitellm.completion(model='gemini/gemini-2.5-flash', messages=[{'role': 'user', 'content': '\nAnalyze the following regulation text and categorize it according to DOGE criteria.\n\nDetermine if this regulation is:\n- SR (Statutorily Required): Required by specific statutory language\n- NSR (Not Statutorily Required): Not required by statute but may be permissible\n- NRAN (Not Required but Agency Needs): Not required by statute but needed for agency operations\n\nProvide your analysis in the following format:\n\nCATEGORY: [SR/NSR/NRAN]\n\nSTATUTORY REFERENCES:\n- [List any specific statutory provisions that require or authorize this regulation]\n\nREFORM RECOMMENDATIONS:\n- [List specific recommendations for deletion, simplification, harmonization, or modernization]\n\nJUSTIFICATION:\n[Provide detailed justification for your categorization and recommendations, citing specific statutory provisions where applicable]\n\nRegulation text:\nNATIONAL CREDIT UNION ADMINISTRATION\n\nRenewal of Agency Information Collection of a Previously Approved Collection; Request for Comments\n\nAGENCY: National Credit Union Administration (NCUA).\nACTION: Notice.\n\nSUMMARY: The National Credit Union Administration (NCUA) is requesting comments on a renewal of a previously approved information collection.\n'}], max_tokens=4000, temperature=0.1)[0m
2025-08-07 23:18:02,959 - LiteLLM - DEBUG - 

2025-08-07 23:18:02,959 - LiteLLM - DEBUG - self.optional_params: {}
2025-08-07 23:18:02,959 - LiteLLM - DEBUG - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
2025-08-07 23:18:02,960 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:18:02,960 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:18:02,960 - LiteLLM - DEBUG - 
LiteLLM: Params passed to completion() {'model': 'gemini-2.5-flash', 'functions': None, 'function_call': None, 'temperature': 0.1, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'gemini', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'allowed_openai_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'user', 'content': '\nAnalyze the following regulation text and categorize it according to DOGE criteria.\n\nDetermine if this regulation is:\n- SR (Statutorily Required): Required by specific statutory language\n- NSR (Not Statutorily Required): Not required by statute but may be permissible\n- NRAN (Not Required but Agency Needs): Not required by statute but needed for agency operations\n\nProvide your analysis in the following format:\n\nCATEGORY: [SR/NSR/NRAN]\n\nSTATUTORY REFERENCES:\n- [List any specific statutory provisions that require or authorize this regulation]\n\nREFORM RECOMMENDATIONS:\n- [List specific recommendations for deletion, simplification, harmonization, or modernization]\n\nJUSTIFICATION:\n[Provide detailed justification for your categorization and recommendations, citing specific statutory provisions where applicable]\n\nRegulation text:\nNATIONAL CREDIT UNION ADMINISTRATION\n\nRenewal of Agency Information Collection of a Previously Approved Collection; Request for Comments\n\nAGENCY: National Credit Union Administration (NCUA).\nACTION: Notice.\n\nSUMMARY: The National Credit Union Administration (NCUA) is requesting comments on a renewal of a previously approved information collection.\n'}], 'thinking': None}
2025-08-07 23:18:02,961 - LiteLLM - DEBUG - 
LiteLLM: Non-Default params passed to completion() {'temperature': 0.1, 'max_tokens': 4000}
2025-08-07 23:18:02,961 - LiteLLM - DEBUG - Final returned optional params: {'temperature': 0.1, 'max_output_tokens': 4000}
2025-08-07 23:18:02,961 - LiteLLM - DEBUG - self.optional_params: {'temperature': 0.1, 'max_output_tokens': 4000}
2025-08-07 23:18:02,975 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:02,975 - LiteLLM - DEBUG - [92m

POST Request Sent from LiteLLM:
curl -X POST \
https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=*****jwlE \
-H 'Content-Type: ap****on' \
-d '{'contents': [{'role': 'user', 'parts': [{'text': '\nAnalyze the following regulation text and categorize it according to DOGE criteria.\n\nDetermine if this regulation is:\n- SR (Statutorily Required): Required by specific statutory language\n- NSR (Not Statutorily Required): Not required by statute but may be permissible\n- NRAN (Not Required but Agency Needs): Not required by statute but needed for agency operations\n\nProvide your analysis in the following format:\n\nCATEGORY: [SR/NSR/NRAN]\n\nSTATUTORY REFERENCES:\n- [List any specific statutory provisions that require or authorize this regulation]\n\nREFORM RECOMMENDATIONS:\n- [List specific recommendations for deletion, simplification, harmonization, or modernization]\n\nJUSTIFICATION:\n[Provide detailed justification for your categorization and recommendations, citing specific statutory provisions where applicable]\n\nRegulation text:\nNATIONAL CREDIT UNION ADMINISTRATION\n\nRenewal of Agency Information Collection of a Previously Approved Collection; Request for Comments\n\nAGENCY: National Credit Union Administration (NCUA).\nACTION: Notice.\n\nSUMMARY: The National Credit Union Administration (NCUA) is requesting comments on a renewal of a previously approved information collection.\n'}]}], 'generationConfig': {'temperature': 0.1, 'max_output_tokens': 4000}}'
[0m

2025-08-07 23:18:02,986 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=600.0 socket_options=None
2025-08-07 23:18:03,140 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d885010>
2025-08-07 23:18:03,140 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x10d8911d0> server_hostname='generativelanguage.googleapis.com' timeout=600.0
2025-08-07 23:18:03,182 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10d884f20>
2025-08-07 23:18:03,182 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-07 23:18:03,182 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-07 23:18:03,182 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-07 23:18:03,182 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-07 23:18:03,182 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-07 23:18:17,838 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Fri, 08 Aug 2025 03:18:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=14437'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-08-07 23:18:17,839 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:18:17,839 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-07 23:18:17,840 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-07 23:18:17,840 - httpcore.http11 - DEBUG - response_closed.started
2025-08-07 23:18:17,840 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-07 23:18:17,840 - LiteLLM - DEBUG - RAW RESPONSE:
{
  "candidates": [
    {
      "content": {
        "parts": [
          {
            "text": "CATEGORY: SR (Statutorily Required)\n\nSTATUTORY REFERENCES:\n- Paperwork Reduction Act of 1995 (PRA), 44 U.S.C. Chapter 35\n- Specifically, 44 U.S.C. § 3506(c)(2)(A) (Agency responsibilities for public notice and comment)\n- And 44 U.S.C. § 3507 (Agency submission of information collection requests to OMB, which requires prior public notice)\n\nREFORM RECOMMENDATIONS:\n- **Simplification:** The provided text is already a highly simplified summary. Further simplification of this specific notice text is difficult without losing its essential purpose. However, ensure the full notice (which this summary refers to) is as concise and clear as possible.\n- **Harmonization:** Continue to ensure consistent formatting and content for these types of notices across all federal agencies, as largely mandated by the PRA and OMB guidance.\n- **Modernization:** Enhance digital accessibility and discoverability of the full information collection details. This could include:\n    - Providing direct, clickable links within the notice to the specific collection on RegInfo.gov or the agency's website.\n    - Utilizing structured data formats for these notices to facilitate machine readability and automated alerts for interested parties.\n    - Exploring alternative, more targeted notification methods for stakeholders who have opted in.\n\nJUSTIFICATION:\nThis regulation text is a public \"Notice\" from the National Credit Union Administration (NCUA) regarding the renewal of an information collection. This type of notice is **Statutorily Required (SR)** under the Paperwork Reduction Act of 1995 (PRA), 44 U.S.C. Chapter 35.\n\nThe PRA mandates that federal agencies provide public notice and an opportunity for comment before submitting information collection requests (including renewals of previously approved collections) to the Office of Management and Budget (OMB) for approval. Specifically:\n*   **44 U.S.C. § 3506(c)(2)(A)** requires agencies to \"provide for the collection of information in a manner that, to the maximum extent practicable, uses information technology to improve the efficiency and effectiveness of agency operations, and, in accordance with the standards and guidelines established by the Director, provides timely and equitable access to the public to agency information.\" This implicitly requires public notification.\n*   **44 U.S.C. § 3507** outlines the process for agencies to obtain OMB approval for information collections, which includes a requirement for agencies to \"provide notice in the Federal Register and otherwise afford the public an opportunity to comment on the information collection request.\"\n\nTherefore, the NCUA's action of \"requesting comments on a renewal of a previously approved information collection\" via this \"Notice\" is a direct fulfillment of its statutory obligations under the PRA. Without this notice, the agency would not be able to proceed with the renewal of its information collection in compliance with federal law.\n\nThe reform recommendations focus on improving the *delivery* and *accessibility* of the information, rather than eliminating or significantly altering the notice itself, as its core function is legally mandated. The text provided is already a concise summary, and its purpose is to alert the public to a forthcoming action, which is a fundamental requirement for transparency and public participation in the regulatory process."
          }
        ],
        "role": "model"
      },
      "finishReason": "STOP",
      "index": 0
    }
  ],
  "usageMetadata": {
    "promptTokenCount": 227,
    "candidatesTokenCount": 701,
    "totalTokenCount": 2836,
    "promptTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 227
      }
    ],
    "thoughtsTokenCount": 1908
  },
  "modelVersion": "gemini-2.5-flash",
  "responseId": "eWyVaIHGLu201MkP5JfvmAk"
}



2025-08-07 23:18:17,842 - httpcore.connection - DEBUG - close.started
2025-08-07 23:18:17,843 - httpcore.connection - DEBUG - close.complete
2025-08-07 23:18:17,843 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-07 23:18:17,843 - LiteLLM - DEBUG - Logging Details LiteLLM-Success Call: Cache_hit=None
2025-08-07 23:18:17,843 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:18:17,844 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:18:17,844 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:17,844 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:17,844 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:17,844 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:17,844 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:18:17,844 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:18:17,845 - LiteLLM - DEBUG - response_cost: 0.0065906
2025-08-07 23:18:17,846 - LiteLLM - DEBUG - response_cost: 0.0065906
2025-08-07 23:18:17,846 - __main__ - INFO - ✓ Direct LLM call successful!
2025-08-07 23:18:17,846 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:18:17,846 - __main__ - INFO - Response length: 3395 characters
2025-08-07 23:18:17,846 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:17,846 - __main__ - INFO - Response preview: CATEGORY: SR (Statutorily Required)

STATUTORY REFERENCES:
- Paperwork Reduction Act of 1995 (PRA), 44 U.S.C. Chapter 35
- Specifically, 44 U.S.C. § 3506(c)(2)(A) (Agency responsibilities for public notice and comment)
- And 44 U.S.C. § 3507 (Agency submission of information collection requests to O...
2025-08-07 23:18:17,846 - __main__ - INFO - ✓ Response contains DOGE format
2025-08-07 23:18:17,846 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:18:17,847 - __main__ - INFO - Token usage: Usage(completion_tokens=2609, prompt_tokens=227, total_tokens=2836, completion_tokens_details=CompletionTokensDetailsWrapper(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=1908, rejected_prediction_tokens=None, text_tokens=701), prompt_tokens_details=PromptTokensDetailsWrapper(audio_tokens=None, cached_tokens=None, text_tokens=227, image_tokens=None))
2025-08-07 23:18:17,847 - LiteLLM - DEBUG - Logging Details LiteLLM-Success Call streaming complete
2025-08-07 23:18:17,847 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:18:17,847 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:17,847 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:17,847 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:18:17,847 - LiteLLM - DEBUG - response_cost: 0.0065906
2025-08-07 23:18:17,848 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:18:17,848 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:18:17,848 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:24:18,712 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 23:24:18,715 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 23:24:18,715 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 23:24:18,715 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:24:18,715 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:24:18,715 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 23:24:18,715 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 23:24:18,715 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 23:24:18,715 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:24:18,715 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 23:24:18,715 - cfr_document_analyzer.cli - INFO - Document limit: 1
2025-08-07 23:24:18,715 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:24:18,716 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 23:24:18,716 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 23:24:18,717 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 23:24:18,717 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 23:24:18,717 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 23:24:18,718 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:24:32,523 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:24:32,524 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-07 23:24:32,526 - nimble_llm_caller.core.llm_caller - ERROR - ❌ Failed LLM call to gemini/gemini-2.5-flash for doge_analysis_2025-13627: 2 validation errors for LLMResponse
tokens_used.completion_tokens_details
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tokens_used.prompt_tokens_details
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-08-07 23:24:32,526 - cfr_document_analyzer.llm_client - WARNING - nimble-llm-caller error: LLM call failed with status error: 2 validation errors for LLMResponse
tokens_used.completion_tokens_details
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tokens_used.prompt_tokens_details
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-08-07 23:24:32,526 - cfr_document_analyzer.llm_client - INFO - LLM call may have succeeded despite validation error - checking for response content
2025-08-07 23:24:32,526 - cfr_document_analyzer.llm_client - WARNING - Using fallback response due to parsing error
2025-08-07 23:24:32,531 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 23:24:32,532 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_232418_4b00d514
2025-08-07 23:24:32,532 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 23:24:32,532 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 23:24:32,533 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_232432.json
2025-08-07 23:24:32,533 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_232432.csv
2025-08-07 23:24:32,533 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_232432.html
2025-08-07 23:24:32,533 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_232432.md
2025-08-07 23:24:32,533 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 23:28:25,466 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 23:28:25,467 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 23:28:25,467 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 23:28:25,467 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:28:25,467 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:28:25,467 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 23:28:25,467 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 23:28:25,467 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 23:28:25,467 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:28:25,467 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 23:28:25,467 - cfr_document_analyzer.cli - INFO - Document limit: 3
2025-08-07 23:28:25,467 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:28:25,469 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 3)
2025-08-07 23:28:25,469 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 23:28:25,469 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 23:28:25,470 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 23:28:25,470 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 23:28:25,471 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:28:41,981 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:28:41,984 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-07 23:28:41,986 - nimble_llm_caller.core.llm_caller - ERROR - ❌ Failed LLM call to gemini/gemini-2.5-flash for doge_analysis_2025-13627: 2 validation errors for LLMResponse
tokens_used.completion_tokens_details
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tokens_used.prompt_tokens_details
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-08-07 23:28:41,986 - cfr_document_analyzer.llm_client - WARNING - nimble-llm-caller error: LLM call failed with status error: 2 validation errors for LLMResponse
tokens_used.completion_tokens_details
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tokens_used.prompt_tokens_details
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-08-07 23:28:41,986 - cfr_document_analyzer.llm_client - INFO - LLM call may have succeeded despite validation error - checking for response content
2025-08-07 23:28:41,987 - cfr_document_analyzer.llm_client - WARNING - Using fallback response due to parsing error. Could not extract content.
2025-08-07 23:28:41,992 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 23:28:41,993 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_232825_5677e493
2025-08-07 23:28:41,993 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 23:28:41,993 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 23:28:41,993 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_232841.json
2025-08-07 23:28:41,994 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_232841.csv
2025-08-07 23:28:41,994 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_232841.html
2025-08-07 23:28:41,994 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_232841.md
2025-08-07 23:28:41,994 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 23:36:51,420 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 23:36:51,421 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 23:36:51,421 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 23:36:51,421 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:36:51,421 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:36:51,421 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 23:36:51,421 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 23:36:51,421 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 23:36:51,421 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:36:51,421 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 23:36:51,421 - cfr_document_analyzer.cli - INFO - Document limit: 1
2025-08-07 23:36:51,421 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:36:51,422 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 23:36:51,422 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 23:36:51,422 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 23:36:51,422 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 23:36:51,422 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 23:36:51,424 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:37:02,925 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:37:02,930 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-07 23:37:02,931 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:37:02,932 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:37:02,933 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:37:02,934 - nimble_llm_caller.core.llm_caller - ERROR - ❌ Failed LLM call to gemini/gemini-2.5-flash for doge_analysis_2025-13627: 2 validation errors for LLMResponse
tokens_used.completion_tokens_details
  Input should be a valid integer [type=int_type, input_value={'accepted_prediction_tok...rediction_tokens': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tokens_used.prompt_tokens_details
  Input should be a valid integer [type=int_type, input_value={'audio_tokens': None, 'cached_tokens': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-08-07 23:37:02,936 - cfr_document_analyzer.llm_client - WARNING - nimble-llm-caller error: LLM call failed with status error: 2 validation errors for LLMResponse
tokens_used.completion_tokens_details
  Input should be a valid integer [type=int_type, input_value={'accepted_prediction_tok...rediction_tokens': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tokens_used.prompt_tokens_details
  Input should be a valid integer [type=int_type, input_value={'audio_tokens': None, 'cached_tokens': None}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-08-07 23:37:02,936 - cfr_document_analyzer.llm_client - INFO - LLM call may have succeeded despite validation error - checking for response content
2025-08-07 23:37:02,936 - cfr_document_analyzer.llm_client - WARNING - Using fallback response due to parsing error. Could not extract content.
2025-08-07 23:37:02,941 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 23:37:02,942 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_233651_4a12da5b
2025-08-07 23:37:02,942 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 23:37:02,942 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 23:37:02,944 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_233702.json
2025-08-07 23:37:02,944 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_233702.csv
2025-08-07 23:37:02,945 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_233702.html
2025-08-07 23:37:02,945 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_233702.md
2025-08-07 23:37:02,945 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 23:39:22,660 - __main__ - INFO - Testing real LLM call...
2025-08-07 23:39:22,660 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:39:22,660 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:39:22,660 - __main__ - INFO - Making LLM call for DOGE analysis...
2025-08-07 23:39:22,660 - cfr_document_analyzer.llm_client - DEBUG - Analyzing document test_regulation with model gemini/gemini-2.5-flash
2025-08-07 23:39:22,660 - cfr_document_analyzer.llm_client - DEBUG - Making LLM request for document test_regulation
2025-08-07 23:39:22,660 - nimble_llm_caller.core.llm_caller - DEBUG - Making LiteLLM call to gemini/gemini-2.5-flash with 1 messages
2025-08-07 23:39:22,660 - LiteLLM - DEBUG - 

2025-08-07 23:39:22,660 - LiteLLM - DEBUG - [92mRequest to litellm:[0m
2025-08-07 23:39:22,660 - LiteLLM - DEBUG - [92mlitellm.completion(model='gemini/gemini-2.5-flash', messages=[{'role': 'user', 'content': 'Process this request: doge_analysis_test_regulation'}], max_tokens=4000, temperature=0.1)[0m
2025-08-07 23:39:22,660 - LiteLLM - DEBUG - 

2025-08-07 23:39:22,660 - LiteLLM - DEBUG - self.optional_params: {}
2025-08-07 23:39:22,660 - LiteLLM - DEBUG - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
2025-08-07 23:39:22,662 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:39:22,662 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:39:22,662 - LiteLLM - DEBUG - 
LiteLLM: Params passed to completion() {'model': 'gemini-2.5-flash', 'functions': None, 'function_call': None, 'temperature': 0.1, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'gemini', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'allowed_openai_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'user', 'content': 'Process this request: doge_analysis_test_regulation'}], 'thinking': None}
2025-08-07 23:39:22,662 - LiteLLM - DEBUG - 
LiteLLM: Non-Default params passed to completion() {'temperature': 0.1, 'max_tokens': 4000}
2025-08-07 23:39:22,662 - LiteLLM - DEBUG - Final returned optional params: {'temperature': 0.1, 'max_output_tokens': 4000}
2025-08-07 23:39:22,662 - LiteLLM - DEBUG - self.optional_params: {'temperature': 0.1, 'max_output_tokens': 4000}
2025-08-07 23:39:22,675 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:22,676 - LiteLLM - DEBUG - [92m

POST Request Sent from LiteLLM:
curl -X POST \
https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=*****jwlE \
-H 'Content-Type: ap****on' \
-d '{'contents': [{'role': 'user', 'parts': [{'text': 'Process this request: doge_analysis_test_regulation'}]}], 'generationConfig': {'temperature': 0.1, 'max_output_tokens': 4000}}'
[0m

2025-08-07 23:39:22,688 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=600.0 socket_options=None
2025-08-07 23:39:22,716 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1112ef0b0>
2025-08-07 23:39:22,716 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1115199d0> server_hostname='generativelanguage.googleapis.com' timeout=600.0
2025-08-07 23:39:22,782 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1110af260>
2025-08-07 23:39:22,782 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-07 23:39:22,782 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-07 23:39:22,782 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-07 23:39:22,782 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-07 23:39:22,782 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-07 23:39:32,122 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Fri, 08 Aug 2025 03:39:32 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=9182'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-08-07 23:39:32,122 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:39:32,122 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-07 23:39:32,123 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-07 23:39:32,123 - httpcore.http11 - DEBUG - response_closed.started
2025-08-07 23:39:32,123 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-07 23:39:32,123 - LiteLLM - DEBUG - RAW RESPONSE:
{
  "candidates": [
    {
      "content": {
        "parts": [
          {
            "text": "The request `doge_analysis_test_regulation` appears to be a concatenated string of keywords, likely indicating a topic or a project title.\n\nLet's break down and process this request:\n\n**1. Deconstruction of Components:**\n\n*   **`doge`**: Refers to **Dogecoin**, a popular cryptocurrency known for its meme origins, high volatility, and strong community.\n*   **`analysis`**: Implies a detailed examination, study, or evaluation of something.\n*   **`test`**: Suggests an experiment, a trial, a stress test, or an evaluation of a hypothesis or system under specific conditions.\n*   **`regulation`**: Refers to rules, laws, government oversight, or policies designed to control or govern an industry, market, or activity.\n\n**2. Interpretation and Possible Scenarios:**\n\nCombining these components, the request could refer to several related concepts:\n\n*   **Analysis of Dogecoin under Regulatory Scrutiny:**\n    *   Examining how existing or proposed cryptocurrency regulations (e.g., AML/KYC, securities laws, taxation) might impact Dogecoin's price, adoption, decentralization, or market behavior.\n    *   A study on Dogecoin's compliance (or non-compliance) with various regulatory frameworks globally.\n\n*   **Testing Regulatory Frameworks on Dogecoin:**\n    *   A hypothetical or actual \"test\" of a new regulatory approach or technology (e.g., a blockchain analytics tool for compliance) using Dogecoin as a case study.\n    *   Evaluating how Dogecoin's unique characteristics (e.g., large supply, low transaction fees, community-driven nature) respond to specific regulatory measures.\n\n*   **Stress Test of Dogecoin's Market/Network Against Regulatory Events:**\n    *   Analyzing Dogecoin's resilience or vulnerability to potential regulatory crackdowns, bans, or significant policy changes.\n    *   Simulating the impact of a major regulatory event on Dogecoin's liquidity, trading volume, or network stability.\n\n*   **Regulatory Impact Assessment on Dogecoin:**\n    *   A formal or informal assessment of the potential economic, social, or technological effects of specific regulations on the Dogecoin ecosystem.\n\n**3. Key Areas of Focus for such an Analysis/Test:**\n\n*   **Legal Classification:** Is Dogecoin considered a security, a commodity, or a currency in different jurisdictions?\n*   **Market Impact:** How do regulatory announcements or actions affect Dogecoin's price, trading volume, and market sentiment?\n*   **Compliance Challenges:** What challenges do exchanges, custodians, or users face in complying with regulations when dealing with Dogecoin?\n*   **Technological Implications:** How might regulations influence Dogecoin's underlying technology, development, or network upgrades?\n*   **Decentralization vs. Regulation:** Can a highly decentralized, community-driven asset like Dogecoin effectively be regulated without compromising its core principles?\n*   **Taxation:** How are Dogecoin transactions and holdings taxed in various regions?\n\n**In summary, `doge_analysis_test_regulation` points to a comprehensive study or experiment focused on understanding the interplay between Dogecoin and the evolving landscape of cryptocurrency regulation.** It suggests an inquiry into how regulatory forces might shape Dogecoin's future, or how Dogecoin might serve as a case study for testing regulatory effectiveness."
          }
        ],
        "role": "model"
      },
      "finishReason": "STOP",
      "index": 0
    }
  ],
  "usageMetadata": {
    "promptTokenCount": 13,
    "candidatesTokenCount": 707,
    "totalTokenCount": 1748,
    "promptTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 13
      }
    ],
    "thoughtsTokenCount": 1028
  },
  "modelVersion": "gemini-2.5-flash",
  "responseId": "dHGVaOAdxp_UyQ_5raDACA"
}



2025-08-07 23:39:32,126 - httpcore.connection - DEBUG - close.started
2025-08-07 23:39:32,126 - httpcore.connection - DEBUG - close.complete
2025-08-07 23:39:32,126 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-07 23:39:32,127 - LiteLLM - DEBUG - Logging Details LiteLLM-Success Call: Cache_hit=None
2025-08-07 23:39:32,127 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:39:32,127 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:39:32,127 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:32,128 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:32,128 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:32,128 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:32,128 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:39:32,128 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:39:32,129 - LiteLLM - DEBUG - response_cost: 0.0043414000000000005
2025-08-07 23:39:32,129 - LiteLLM - DEBUG - response_cost: 0.0043414000000000005
2025-08-07 23:39:32,129 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_test_regulation in 9.47s
2025-08-07 23:39:32,130 - cfr_document_analyzer.llm_client - DEBUG - Received LLM response type: <class 'nimble_llm_caller.models.response.LLMResponse'>
2025-08-07 23:39:32,130 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:39:32,130 - cfr_document_analyzer.llm_client - DEBUG - Successfully analyzed document test_regulation in 9.47s
2025-08-07 23:39:32,130 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:32,130 - __main__ - INFO - ✓ LLM call successful!
2025-08-07 23:39:32,131 - __main__ - INFO - Category: UNKNOWN
2025-08-07 23:39:32,131 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:39:32,131 - __main__ - INFO - Statutory references: 0
2025-08-07 23:39:32,131 - LiteLLM - DEBUG - Logging Details LiteLLM-Success Call streaming complete
2025-08-07 23:39:32,131 - __main__ - INFO - Reform recommendations: 0
2025-08-07 23:39:32,131 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:39:32,131 - __main__ - INFO - Justification preview: The request `doge_analysis_test_regulation` appears to be a concatenated string of keywords, likely indicating a topic or a project title.

Let's break down and process this request:

**1. Deconstruct...
2025-08-07 23:39:32,131 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:32,132 - __main__ - INFO - Usage stats: 1 calls, 1 successful
2025-08-07 23:39:32,132 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:32,132 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:39:32,134 - LiteLLM - DEBUG - response_cost: 0.0043414000000000005
2025-08-07 23:39:32,134 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:39:32,134 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:39:32,134 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:39:47,045 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 23:39:47,045 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 23:39:47,045 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 23:39:47,045 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:39:47,045 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:39:47,045 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 23:39:47,045 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 23:39:47,045 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 23:39:47,045 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:39:47,045 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 23:39:47,045 - cfr_document_analyzer.cli - INFO - Document limit: 1
2025-08-07 23:39:47,045 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:39:47,046 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 1)
2025-08-07 23:39:47,046 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 23:39:47,046 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 23:39:47,046 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 23:39:47,046 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 23:39:47,048 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:40:01,818 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:40:01,821 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-07 23:40:01,821 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:40:01,822 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:40:01,823 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:40:01,824 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_2025-13627 in 14.78s
2025-08-07 23:40:01,829 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 23:40:01,830 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_233947_fc2ac1d7
2025-08-07 23:40:01,830 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 23:40:01,830 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 23:40:01,831 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_234001.json
2025-08-07 23:40:01,832 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_234001.csv
2025-08-07 23:40:01,832 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_234001.html
2025-08-07 23:40:01,832 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_234001.md
2025-08-07 23:40:01,832 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-07 23:40:54,752 - __main__ - INFO - Testing real LLM call...
2025-08-07 23:40:54,752 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:40:54,752 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:40:54,752 - __main__ - INFO - Making LLM call for DOGE analysis...
2025-08-07 23:40:54,752 - cfr_document_analyzer.llm_client - DEBUG - Analyzing document test_regulation with model gemini/gemini-2.5-flash
2025-08-07 23:40:54,752 - cfr_document_analyzer.llm_client - DEBUG - Making LLM request for document test_regulation
2025-08-07 23:40:54,752 - nimble_llm_caller.core.llm_caller - DEBUG - Making LiteLLM call to gemini/gemini-2.5-flash with 1 messages
2025-08-07 23:40:54,752 - LiteLLM - DEBUG - 

2025-08-07 23:40:54,752 - LiteLLM - DEBUG - [92mRequest to litellm:[0m
2025-08-07 23:40:54,752 - LiteLLM - DEBUG - [92mlitellm.completion(model='gemini/gemini-2.5-flash', messages=[{'role': 'user', 'content': '\nAnalyze the following regulation text and categorize it according to DOGE criteria.\n\nDetermine if this regulation is:\n- SR (Statutorily Required): Required by specific statutory language\n- NSR (Not Statutorily Required): Not required by statute but may be permissible\n- NRAN (Not Required but Agency Needs): Not required by statute but needed for agency operations\n\nProvide your analysis in the following format:\n\nCATEGORY: [SR/NSR/NRAN]\n\nSTATUTORY REFERENCES:\n- [List any specific statutory provisions that require or authorize this regulation]\n\nREFORM RECOMMENDATIONS:\n- [List specific recommendations for deletion, simplification, harmonization, or modernization]\n\nJUSTIFICATION:\n[Provide detailed justification for your categorization and recommendations, citing specific statutory provisions where applicable]\n\nRegulation text:\n\n        NATIONAL CREDIT UNION ADMINISTRATION\n        \n        12 CFR Part 701\n        \n        Organization and Operations of Federal Credit Unions\n        \n        SECTION 701.1 - SCOPE\n        \n        This part contains the rules and regulations for the organization and operation of Federal credit unions. Federal credit unions are chartered under the Federal Credit Union Act and are subject to the supervision of the National Credit Union Administration.\n        \n        SECTION 701.2 - DEFINITIONS\n        \n        For purposes of this part:\n        (a) Credit union means a Federal credit union chartered under the Federal Credit Union Act.\n        (b) Member means a person who has been admitted to membership in the credit union.\n        (c) Share account means a balance held by a credit union and established by a member.\n        \n'}], max_tokens=4000, temperature=0.1)[0m
2025-08-07 23:40:54,753 - LiteLLM - DEBUG - 

2025-08-07 23:40:54,753 - LiteLLM - DEBUG - self.optional_params: {}
2025-08-07 23:40:54,753 - LiteLLM - DEBUG - SYNC kwargs[caching]: False; litellm.cache: None; kwargs.get('cache')['no-cache']: False
2025-08-07 23:40:54,754 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:40:54,754 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:40:54,754 - LiteLLM - DEBUG - 
LiteLLM: Params passed to completion() {'model': 'gemini-2.5-flash', 'functions': None, 'function_call': None, 'temperature': 0.1, 'top_p': None, 'n': None, 'stream': None, 'stream_options': None, 'stop': None, 'max_tokens': 4000, 'max_completion_tokens': None, 'modalities': None, 'prediction': None, 'audio': None, 'presence_penalty': None, 'frequency_penalty': None, 'logit_bias': None, 'user': None, 'custom_llm_provider': 'gemini', 'response_format': None, 'seed': None, 'tools': None, 'tool_choice': None, 'max_retries': None, 'logprobs': None, 'top_logprobs': None, 'extra_headers': None, 'api_version': None, 'parallel_tool_calls': None, 'drop_params': None, 'allowed_openai_params': None, 'reasoning_effort': None, 'additional_drop_params': None, 'messages': [{'role': 'user', 'content': '\nAnalyze the following regulation text and categorize it according to DOGE criteria.\n\nDetermine if this regulation is:\n- SR (Statutorily Required): Required by specific statutory language\n- NSR (Not Statutorily Required): Not required by statute but may be permissible\n- NRAN (Not Required but Agency Needs): Not required by statute but needed for agency operations\n\nProvide your analysis in the following format:\n\nCATEGORY: [SR/NSR/NRAN]\n\nSTATUTORY REFERENCES:\n- [List any specific statutory provisions that require or authorize this regulation]\n\nREFORM RECOMMENDATIONS:\n- [List specific recommendations for deletion, simplification, harmonization, or modernization]\n\nJUSTIFICATION:\n[Provide detailed justification for your categorization and recommendations, citing specific statutory provisions where applicable]\n\nRegulation text:\n\n        NATIONAL CREDIT UNION ADMINISTRATION\n        \n        12 CFR Part 701\n        \n        Organization and Operations of Federal Credit Unions\n        \n        SECTION 701.1 - SCOPE\n        \n        This part contains the rules and regulations for the organization and operation of Federal credit unions. Federal credit unions are chartered under the Federal Credit Union Act and are subject to the supervision of the National Credit Union Administration.\n        \n        SECTION 701.2 - DEFINITIONS\n        \n        For purposes of this part:\n        (a) Credit union means a Federal credit union chartered under the Federal Credit Union Act.\n        (b) Member means a person who has been admitted to membership in the credit union.\n        (c) Share account means a balance held by a credit union and established by a member.\n        \n'}], 'thinking': None}
2025-08-07 23:40:54,754 - LiteLLM - DEBUG - 
LiteLLM: Non-Default params passed to completion() {'temperature': 0.1, 'max_tokens': 4000}
2025-08-07 23:40:54,754 - LiteLLM - DEBUG - Final returned optional params: {'temperature': 0.1, 'max_output_tokens': 4000}
2025-08-07 23:40:54,754 - LiteLLM - DEBUG - self.optional_params: {'temperature': 0.1, 'max_output_tokens': 4000}
2025-08-07 23:40:54,766 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:40:54,766 - LiteLLM - DEBUG - [92m

POST Request Sent from LiteLLM:
curl -X POST \
https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=*****jwlE \
-H 'Content-Type: ap****on' \
-d '{'contents': [{'role': 'user', 'parts': [{'text': '\nAnalyze the following regulation text and categorize it according to DOGE criteria.\n\nDetermine if this regulation is:\n- SR (Statutorily Required): Required by specific statutory language\n- NSR (Not Statutorily Required): Not required by statute but may be permissible\n- NRAN (Not Required but Agency Needs): Not required by statute but needed for agency operations\n\nProvide your analysis in the following format:\n\nCATEGORY: [SR/NSR/NRAN]\n\nSTATUTORY REFERENCES:\n- [List any specific statutory provisions that require or authorize this regulation]\n\nREFORM RECOMMENDATIONS:\n- [List specific recommendations for deletion, simplification, harmonization, or modernization]\n\nJUSTIFICATION:\n[Provide detailed justification for your categorization and recommendations, citing specific statutory provisions where applicable]\n\nRegulation text:\n\n        NATIONAL CREDIT UNION ADMINISTRATION\n        \n        12 CFR Part 701\n        \n        Organization and Operations of Federal Credit Unions\n        \n        SECTION 701.1 - SCOPE\n        \n        This part contains the rules and regulations for the organization and operation of Federal credit unions. Federal credit unions are chartered under the Federal Credit Union Act and are subject to the supervision of the National Credit Union Administration.\n        \n        SECTION 701.2 - DEFINITIONS\n        \n        For purposes of this part:\n        (a) Credit union means a Federal credit union chartered under the Federal Credit Union Act.\n        (b) Member means a person who has been admitted to membership in the credit union.\n        (c) Share account means a balance held by a credit union and established by a member.\n        \n'}]}], 'generationConfig': {'temperature': 0.1, 'max_output_tokens': 4000}}'
[0m

2025-08-07 23:40:54,778 - httpcore.connection - DEBUG - connect_tcp.started host='generativelanguage.googleapis.com' port=443 local_address=None timeout=600.0 socket_options=None
2025-08-07 23:40:54,801 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x150aeb530>
2025-08-07 23:40:54,801 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x150c199d0> server_hostname='generativelanguage.googleapis.com' timeout=600.0
2025-08-07 23:40:54,910 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1508efe60>
2025-08-07 23:40:54,910 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-08-07 23:40:54,910 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-08-07 23:40:54,910 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-08-07 23:40:54,910 - httpcore.http11 - DEBUG - send_request_body.complete
2025-08-07 23:40:54,910 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-08-07 23:41:14,380 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Fri, 08 Aug 2025 03:41:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Server-Timing', b'gfet4t7; dur=19442'), (b'Alt-Svc', b'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])
2025-08-07 23:41:14,381 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:41:14,381 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-08-07 23:41:14,382 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-08-07 23:41:14,382 - httpcore.http11 - DEBUG - response_closed.started
2025-08-07 23:41:14,382 - httpcore.http11 - DEBUG - response_closed.complete
2025-08-07 23:41:14,382 - LiteLLM - DEBUG - RAW RESPONSE:
{
  "candidates": [
    {
      "content": {
        "parts": [
          {
            "text": "CATEGORY: NRAN\n\nSTATUTORY REFERENCES:\n*   **12 U.S.C. § 1752a(d):** Grants the NCUA Board the authority to \"prescribe such rules and regulations as it may deem necessary or appropriate to carry out the provisions of this chapter.\"\n*   **12 U.S.C. § 1766(a):** Grants the NCUA Board the power to \"make rules and regulations for the carrying out of the purposes of this chapter.\"\n*   **12 U.S.C. § 1752(1):** Defines \"Federal credit union.\"\n*   **12 U.S.C. § 1752(2):** Defines \"member.\"\n\nREFORM RECOMMENDATIONS:\n*   **Simplification:** No further simplification is recommended as the language is already clear, concise, and direct.\n*   **Harmonization:** Continuously review definitions in § 701.2 to ensure perfect alignment and consistency with definitions provided in the Federal Credit Union Act (e.g., 12 U.S.C. § 1752) and across other parts of NCUA regulations (12 CFR Chapter VII). While current definitions are consistent, ongoing vigilance is key.\n*   **Modernization:** No specific modernization is needed; the language and structure are current and effective.\n*   **Deletion:** Not recommended; these sections are foundational and essential.\n\nJUSTIFICATION:\nThis regulation text, specifically Sections 701.1 (Scope) and 701.2 (Definitions), is categorized as **NRAN (Not Required but Agency Needs)**.\n\n**Justification for NRAN Categorization:**\n\n1.  **Not Statutorily Required (SR):** The Federal Credit Union Act (FCUA) does not contain specific statutory language mandating that the National Credit Union Administration (NCUA) include a \"Scope\" section or a \"Definitions\" section within its regulations. While the FCUA defines certain terms (e.g., 12 U.S.C. § 1752 defines \"Federal credit union\" and \"member\"), it does not explicitly require the agency to reiterate or further define these terms in its regulations, nor does it mandate a specific \"scope\" provision. Therefore, these sections do not meet the criteria for SR.\n\n2.  **Not Merely Permissible (NSR):** While the NCUA has broad rulemaking authority, these sections are more than just permissible; they are fundamental and essential for the effective operation and clarity of the entire regulatory framework.\n\n3.  **Agency Needs (NRAN):**\n    *   **Broad Statutory Authority:** The NCUA is granted broad authority by Congress to regulate Federal credit unions. Specifically, 12 U.S.C. § 1752a(d) and 12 U.S.C. § 1766(a) empower the NCUA Board to \"prescribe such rules and regulations as it may deem necessary or appropriate to carry out the provisions of this chapter\" and to \"make rules and regulations for the carrying out of the purposes of this chapter.\" To effectively exercise this authority and fulfill its statutory mandate, the agency *needs* foundational provisions like scope and definitions.\n    *   **Clarity and Applicability (Section 701.1 - Scope):** A \"Scope\" section is crucial for informing regulated entities and the public about the applicability and purpose of the regulations. Without it, there would be ambiguity regarding which entities are covered and what the overall intent of Part 701 is. This clarity is essential for compliance and enforcement.\n    *   **Consistency and Interpretation (Section 701.2 - Definitions):** Definitions are indispensable for ensuring consistent interpretation and application of terms used throughout the regulation.\n        *   Section 701.2(a) defines \"Credit union\" by directly referencing the Federal Credit Union Act, ensuring that the regulatory meaning aligns with the statutory basis.\n        *   Section 701.2(b) defines \"Member,\" which is a critical term for credit union operations and membership eligibility, consistent with statutory provisions (e.g., 12 U.S.C. § 1759).\n        *   Section 701.2(c) defines \"Share account,\" a core financial instrument in credit unions, providing a clear regulatory meaning for a term frequently used in the FCUA (e.g., 12 U.S.C. § 1757(6), (7)).\n        Without these definitions, terms used in subsequent, more substantive sections of Part 701 would be open to varied interpretations, leading to confusion, inconsistent application, and potential legal challenges.\n\nIn summary, while not explicitly mandated by specific statutory language, Sections 701.1 and 701.2 are indispensable for the NCUA to effectively carry out its statutory responsibilities to organize and supervise Federal credit unions. They provide the necessary framework for clarity, consistency, and enforceability of the broader regulatory scheme."
          }
        ],
        "role": "model"
      },
      "finishReason": "STOP",
      "index": 0
    }
  ],
  "usageMetadata": {
    "promptTokenCount": 340,
    "candidatesTokenCount": 1082,
    "totalTokenCount": 4026,
    "promptTokensDetails": [
      {
        "modality": "TEXT",
        "tokenCount": 340
      }
    ],
    "thoughtsTokenCount": 2604
  },
  "modelVersion": "gemini-2.5-flash",
  "responseId": "2nGVaPzKF76y1MkPvMCLmAc"
}



2025-08-07 23:41:14,384 - httpcore.connection - DEBUG - close.started
2025-08-07 23:41:14,385 - httpcore.connection - DEBUG - close.complete
2025-08-07 23:41:14,385 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-07 23:41:14,385 - LiteLLM - DEBUG - Logging Details LiteLLM-Success Call: Cache_hit=None
2025-08-07 23:41:14,385 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:41:14,386 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:41:14,386 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:41:14,386 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:41:14,386 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:41:14,386 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:41:14,387 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:41:14,387 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:41:14,387 - LiteLLM - DEBUG - response_cost: 0.009317
2025-08-07 23:41:14,387 - LiteLLM - DEBUG - response_cost: 0.009317
2025-08-07 23:41:14,388 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_test_regulation in 19.64s
2025-08-07 23:41:14,388 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:41:14,388 - cfr_document_analyzer.llm_client - DEBUG - Received LLM response type: <class 'nimble_llm_caller.models.response.LLMResponse'>
2025-08-07 23:41:14,388 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:41:14,388 - cfr_document_analyzer.llm_client - DEBUG - Successfully analyzed document test_regulation in 19.64s
2025-08-07 23:41:14,389 - __main__ - INFO - ✓ LLM call successful!
2025-08-07 23:41:14,388 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:41:14,389 - __main__ - INFO - Category: NRAN
2025-08-07 23:41:14,389 - LiteLLM - DEBUG - Logging Details LiteLLM-Success Call streaming complete
2025-08-07 23:41:14,389 - __main__ - INFO - Statutory references: 0
2025-08-07 23:41:14,390 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-07 23:41:14,390 - __main__ - INFO - Reform recommendations: 0
2025-08-07 23:41:14,390 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:41:14,390 - __main__ - INFO - Justification preview: This regulation text, specifically Sections 701.1 (Scope) and 701.2 (Definitions), is categorized as **NRAN (Not Required but Agency Needs)**.

**Justification for NRAN Categorization:**

1.  **Not St...
2025-08-07 23:41:14,390 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:41:14,390 - __main__ - INFO - Usage stats: 1 calls, 1 successful
2025-08-07 23:41:14,390 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:41:14,391 - LiteLLM - DEBUG - response_cost: 0.009317
2025-08-07 23:41:14,391 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'vertex_ai/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'vertex_ai/gemini-2.5-flash', 'custom_llm_provider': 'vertex_ai'}
2025-08-07 23:41:14,391 - LiteLLM - DEBUG - checking potential_model_names in litellm.model_cost: {'split_model': 'gemini-2.5-flash', 'combined_model_name': 'gemini/gemini-2.5-flash', 'stripped_model_name': 'gemini-2.5-flash', 'combined_stripped_model_name': 'gemini/gemini-2.5-flash', 'custom_llm_provider': 'gemini'}
2025-08-07 23:41:14,391 - LiteLLM - DEBUG - model_info: {'key': 'gemini/gemini-2.5-flash', 'max_tokens': 65535, 'max_input_tokens': 1048576, 'max_output_tokens': 65535, 'input_cost_per_token': 3e-07, 'cache_creation_input_token_cost': None, 'cache_read_input_token_cost': 7.5e-08, 'input_cost_per_character': None, 'input_cost_per_token_above_128k_tokens': None, 'input_cost_per_token_above_200k_tokens': None, 'input_cost_per_query': None, 'input_cost_per_second': None, 'input_cost_per_audio_token': 1e-06, 'input_cost_per_token_batches': None, 'output_cost_per_token_batches': None, 'output_cost_per_token': 2.5e-06, 'output_cost_per_audio_token': None, 'output_cost_per_character': None, 'output_cost_per_reasoning_token': 2.5e-06, 'output_cost_per_token_above_128k_tokens': None, 'output_cost_per_character_above_128k_tokens': None, 'output_cost_per_token_above_200k_tokens': None, 'output_cost_per_second': None, 'output_cost_per_image': None, 'output_vector_size': None, 'litellm_provider': 'gemini', 'mode': 'chat', 'supports_system_messages': True, 'supports_response_schema': True, 'supports_vision': True, 'supports_function_calling': True, 'supports_tool_choice': True, 'supports_assistant_prefill': False, 'supports_prompt_caching': True, 'supports_audio_input': False, 'supports_audio_output': False, 'supports_pdf_input': True, 'supports_embedding_image_input': False, 'supports_native_streaming': None, 'supports_web_search': True, 'supports_reasoning': True, 'search_context_cost_per_query': None, 'tpm': 8000000, 'rpm': 100000}
2025-08-07 23:42:38,291 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-07 23:42:38,292 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-07 23:42:38,292 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-07 23:42:38,292 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-07 23:42:38,292 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-07 23:42:38,292 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-07 23:42:38,292 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-07 23:42:38,292 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-07 23:42:38,292 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:42:38,292 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-07 23:42:38,292 - cfr_document_analyzer.cli - INFO - Document limit: 3
2025-08-07 23:42:38,292 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-07 23:42:38,294 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 3)
2025-08-07 23:42:38,294 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-07 23:42:38,294 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-07 23:42:38,294 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-07 23:42:38,294 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-07 23:42:38,295 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-07 23:42:58,205 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-07 23:42:58,221 - nimble_llm_caller.utils.retry_strategy - ERROR - Non-retryable error for LLM call to gemini/gemini-2.5-flash: litellm.APIConnectionError: GeminiException - Received={'candidates': [{'content': {'role': 'model'}, 'finishReason': 'MAX_TOKENS', 'index': 0, 'citationMetadata': {'citationSources': [{'startIndex': 1727, 'endIndex': 2073, 'uri': 'https://www.federalregister.gov/documents/2022/03/21/2022-05920/agency-information-collection-activities-proposed-collection-comment-request-ncua-template-large', 'license': ''}, {'startIndex': 5530, 'endIndex': 5829, 'uri': 'https://www.reginfo.gov/public/do/DownloadDocument?objectID=102318401', 'license': ''}, {'startIndex': 5848, 'endIndex': 6133, 'uri': 'https://www.reginfo.gov/public/do/DownloadDocument?objectID=102318401', 'license': ''}, {'startIndex': 6018, 'endIndex': 6395, 'uri': 'https://www.federalregister.gov/documents/2021/02/23/2020-28281/subordinated-debt', 'license': ''}, {'startIndex': 6443, 'endIndex': 6670, 'uri': 'https://casetext.com/federal-register/renewal-of-agency-information-collections-for-comments-request-proposed-collections-8', 'license': ''}, {'startIndex': 6934, 'endIndex': 7274, 'uri': 'https://www.federalregister.gov/documents/2021/02/23/2020-28281/subordinated-debt', 'license': ''}]}}], 'usageMetadata': {'promptTokenCount': 1321, 'totalTokenCount': 5320, 'promptTokensDetails': [{'modality': 'TEXT', 'tokenCount': 1321}], 'thoughtsTokenCount': 3999}, 'modelVersion': 'gemini-2.5-flash', 'responseId': 'QnKVaOLLDOuS1MkPwveW0Qk'}, Error converting to valid response block='parts'. File an issue if litellm error - https://github.com/BerriAI/litellm/issues
2025-08-07 23:42:58,221 - nimble_llm_caller.core.llm_caller - ERROR - ❌ Failed LLM call to gemini/gemini-2.5-flash for doge_analysis_2025-13627: litellm.APIConnectionError: GeminiException - Received={'candidates': [{'content': {'role': 'model'}, 'finishReason': 'MAX_TOKENS', 'index': 0, 'citationMetadata': {'citationSources': [{'startIndex': 1727, 'endIndex': 2073, 'uri': 'https://www.federalregister.gov/documents/2022/03/21/2022-05920/agency-information-collection-activities-proposed-collection-comment-request-ncua-template-large', 'license': ''}, {'startIndex': 5530, 'endIndex': 5829, 'uri': 'https://www.reginfo.gov/public/do/DownloadDocument?objectID=102318401', 'license': ''}, {'startIndex': 5848, 'endIndex': 6133, 'uri': 'https://www.reginfo.gov/public/do/DownloadDocument?objectID=102318401', 'license': ''}, {'startIndex': 6018, 'endIndex': 6395, 'uri': 'https://www.federalregister.gov/documents/2021/02/23/2020-28281/subordinated-debt', 'license': ''}, {'startIndex': 6443, 'endIndex': 6670, 'uri': 'https://casetext.com/federal-register/renewal-of-agency-information-collections-for-comments-request-proposed-collections-8', 'license': ''}, {'startIndex': 6934, 'endIndex': 7274, 'uri': 'https://www.federalregister.gov/documents/2021/02/23/2020-28281/subordinated-debt', 'license': ''}]}}], 'usageMetadata': {'promptTokenCount': 1321, 'totalTokenCount': 5320, 'promptTokensDetails': [{'modality': 'TEXT', 'tokenCount': 1321}], 'thoughtsTokenCount': 3999}, 'modelVersion': 'gemini-2.5-flash', 'responseId': 'QnKVaOLLDOuS1MkPwveW0Qk'}, Error converting to valid response block='parts'. File an issue if litellm error - https://github.com/BerriAI/litellm/issues
2025-08-07 23:42:58,231 - cfr_document_analyzer.llm_client - WARNING - nimble-llm-caller error: LLM call failed with status error: litellm.APIConnectionError: GeminiException - Received={'candidates': [{'content': {'role': 'model'}, 'finishReason': 'MAX_TOKENS', 'index': 0, 'citationMetadata': {'citationSources': [{'startIndex': 1727, 'endIndex': 2073, 'uri': 'https://www.federalregister.gov/documents/2022/03/21/2022-05920/agency-information-collection-activities-proposed-collection-comment-request-ncua-template-large', 'license': ''}, {'startIndex': 5530, 'endIndex': 5829, 'uri': 'https://www.reginfo.gov/public/do/DownloadDocument?objectID=102318401', 'license': ''}, {'startIndex': 5848, 'endIndex': 6133, 'uri': 'https://www.reginfo.gov/public/do/DownloadDocument?objectID=102318401', 'license': ''}, {'startIndex': 6018, 'endIndex': 6395, 'uri': 'https://www.federalregister.gov/documents/2021/02/23/2020-28281/subordinated-debt', 'license': ''}, {'startIndex': 6443, 'endIndex': 6670, 'uri': 'https://casetext.com/federal-register/renewal-of-agency-information-collections-for-comments-request-proposed-collections-8', 'license': ''}, {'startIndex': 6934, 'endIndex': 7274, 'uri': 'https://www.federalregister.gov/documents/2021/02/23/2020-28281/subordinated-debt', 'license': ''}]}}], 'usageMetadata': {'promptTokenCount': 1321, 'totalTokenCount': 5320, 'promptTokensDetails': [{'modality': 'TEXT', 'tokenCount': 1321}], 'thoughtsTokenCount': 3999}, 'modelVersion': 'gemini-2.5-flash', 'responseId': 'QnKVaOLLDOuS1MkPwveW0Qk'}, Error converting to valid response block='parts'. File an issue if litellm error - https://github.com/BerriAI/litellm/issues
2025-08-07 23:42:58,233 - cfr_document_analyzer.llm_client - ERROR - LLM analysis failed for document 2025-13627: LLM call failed with status error: litellm.APIConnectionError: GeminiException - Received={'candidates': [{'content': {'role': 'model'}, 'finishReason': 'MAX_TOKENS', 'index': 0, 'citationMetadata': {'citationSources': [{'startIndex': 1727, 'endIndex': 2073, 'uri': 'https://www.federalregister.gov/documents/2022/03/21/2022-05920/agency-information-collection-activities-proposed-collection-comment-request-ncua-template-large', 'license': ''}, {'startIndex': 5530, 'endIndex': 5829, 'uri': 'https://www.reginfo.gov/public/do/DownloadDocument?objectID=102318401', 'license': ''}, {'startIndex': 5848, 'endIndex': 6133, 'uri': 'https://www.reginfo.gov/public/do/DownloadDocument?objectID=102318401', 'license': ''}, {'startIndex': 6018, 'endIndex': 6395, 'uri': 'https://www.federalregister.gov/documents/2021/02/23/2020-28281/subordinated-debt', 'license': ''}, {'startIndex': 6443, 'endIndex': 6670, 'uri': 'https://casetext.com/federal-register/renewal-of-agency-information-collections-for-comments-request-proposed-collections-8', 'license': ''}, {'startIndex': 6934, 'endIndex': 7274, 'uri': 'https://www.federalregister.gov/documents/2021/02/23/2020-28281/subordinated-debt', 'license': ''}]}}], 'usageMetadata': {'promptTokenCount': 1321, 'totalTokenCount': 5320, 'promptTokensDetails': [{'modality': 'TEXT', 'tokenCount': 1321}], 'thoughtsTokenCount': 3999}, 'modelVersion': 'gemini-2.5-flash', 'responseId': 'QnKVaOLLDOuS1MkPwveW0Qk'}, Error converting to valid response block='parts'. File an issue if litellm error - https://github.com/BerriAI/litellm/issues
2025-08-07 23:42:58,238 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-07 23:42:58,238 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250807_234238_099e0963
2025-08-07 23:42:58,239 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-07 23:42:58,239 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-07 23:42:58,239 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250807_234258.json
2025-08-07 23:42:58,239 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250807_234258.csv
2025-08-07 23:42:58,239 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250807_234258.html
2025-08-07 23:42:58,239 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250807_234258.md
2025-08-07 23:42:58,239 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-08 00:01:29,210 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-08 00:01:29,211 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-08 00:01:29,211 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-08 00:01:29,211 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 00:01:29,211 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 00:01:29,211 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-08 00:01:29,211 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-08 00:01:29,211 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-08 00:01:29,211 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-08 00:01:29,211 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-08 00:01:29,211 - cfr_document_analyzer.cli - INFO - Document limit: 3
2025-08-08 00:01:29,211 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-credit-union-administration
2025-08-08 00:01:29,213 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-credit-union-administration (limit: 3)
2025-08-08 00:01:29,213 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-credit-union-administration
2025-08-08 00:01:29,213 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for national-credit-union-administration
2025-08-08 00:01:29,213 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-08 00:01:29,213 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2025-13627
2025-08-08 00:01:29,214 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 00:02:02,223 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 00:02:02,228 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 00:02:02,230 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_2025-13627 in 33.02s
2025-08-08 00:02:02,236 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-08 00:02:02,237 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250808_000129_c4b949da
2025-08-08 00:02:02,238 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-08 00:02:02,238 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-08 00:02:02,238 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Credit Union Administration_20250808_000202.json
2025-08-08 00:02:02,238 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Credit Union Administration_20250808_000202.csv
2025-08-08 00:02:02,239 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Credit Union Administration_20250808_000202.html
2025-08-08 00:02:02,240 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Credit Union Administration_20250808_000202.md
2025-08-08 00:02:02,240 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-08 00:51:46,860 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-08 00:51:46,861 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-08 00:51:46,861 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-08 00:51:46,861 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 00:51:46,861 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 00:51:46,861 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-08 00:51:46,861 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-08 00:51:46,861 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-08 00:51:46,861 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-institute-for-literacy
2025-08-08 00:51:46,861 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-08 00:51:46,861 - cfr_document_analyzer.cli - INFO - Document limit: 7
2025-08-08 00:51:46,861 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-institute-for-literacy
2025-08-08 00:51:46,863 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-institute-for-literacy (limit: 7)
2025-08-08 00:51:46,863 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-institute-for-literacy
2025-08-08 00:51:46,863 - cfr_document_analyzer.document_retriever - INFO - Fetching documents from https://www.federalregister.gov/documents/search for agency national-institute-for-literacy
2025-08-08 00:51:47,345 - cfr_document_analyzer.document_retriever - INFO - Found 17 document elements on page
2025-08-08 00:51:47,348 - cfr_document_analyzer.document_retriever - INFO - Trying JSON API as fallback...
2025-08-08 00:51:47,539 - cfr_document_analyzer.document_retriever - INFO - JSON API fallback found 7 documents
2025-08-08 00:51:47,539 - cfr_document_analyzer.document_retriever - INFO - Fetched 7 document records from web scraping
2025-08-08 00:51:47,540 - cfr_document_analyzer.document_retriever - INFO - Processing document 1/7: 2012-15881
2025-08-08 00:51:47,614 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2012/06/27/2012-15881/subtitle-c-regulations-relating-to-education.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2012/06/27/2012-15881/subtitle-c-regulations-relating-to-education.xml
2025-08-08 00:51:47,615 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document 2012-15881
2025-08-08 00:51:48,620 - cfr_document_analyzer.document_retriever - INFO - Processing document 2/7: E9-24841
2025-08-08 00:51:48,683 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2009/10/16/E9-24841/notice-inviting-proposals-for-ownership-and-operation-of-americas-literacy-directory.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2009/10/16/E9-24841/notice-inviting-proposals-for-ownership-and-operation-of-americas-literacy-directory.xml
2025-08-08 00:51:48,684 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document E9-24841
2025-08-08 00:51:49,687 - cfr_document_analyzer.document_retriever - INFO - Processing document 3/7: E9-15728
2025-08-08 00:51:50,808 - cfr_document_analyzer.document_retriever - INFO - Processing document 4/7: E8-28719
2025-08-08 00:51:51,939 - cfr_document_analyzer.document_retriever - INFO - Processing document 5/7: E8-25822
2025-08-08 00:51:53,056 - cfr_document_analyzer.document_retriever - INFO - Processing document 6/7: E8-24063
2025-08-08 00:51:54,199 - cfr_document_analyzer.document_retriever - INFO - Processing document 7/7: E8-16029
2025-08-08 00:51:55,370 - cfr_document_analyzer.document_retriever - INFO - Retrieved 5 documents with content for national-institute-for-literacy
2025-08-08 00:51:55,371 - cfr_document_analyzer.analysis_engine - INFO - Found 5 documents to analyze
2025-08-08 00:51:55,371 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/5: E9-15728
2025-08-08 00:51:55,376 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 00:52:14,337 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 00:52:14,340 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 00:52:14,343 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E9-15728 in 18.97s
2025-08-08 00:52:14,347 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 2/5: E8-28719
2025-08-08 00:52:14,347 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 00:52:28,363 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 00:52:28,366 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 00:52:28,368 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E8-28719 in 14.02s
2025-08-08 00:52:28,374 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 3/5: E8-25822
2025-08-08 00:52:28,375 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 00:52:41,470 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 00:52:41,473 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 00:52:41,476 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E8-25822 in 13.10s
2025-08-08 00:52:41,481 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 4/5: E8-24063
2025-08-08 00:52:41,482 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 00:52:53,024 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 00:52:53,027 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 00:52:53,029 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E8-24063 in 11.55s
2025-08-08 00:52:53,035 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 5/5: E8-16029
2025-08-08 00:52:53,036 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 00:53:02,978 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 00:53:02,986 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 00:53:02,986 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E8-16029 in 9.95s
2025-08-08 00:53:02,991 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 5 documents analyzed successfully
2025-08-08 00:53:02,993 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 5 analysis results for session session_20250808_005146_a46d0df3
2025-08-08 00:53:02,993 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-08 00:53:02,993 - cfr_document_analyzer.export_manager - INFO - Exporting 5 results in formats: ['json', 'csv', 'html']
2025-08-08 00:53:02,994 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Institute For Literacy_20250808_005302.json
2025-08-08 00:53:02,994 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Institute For Literacy_20250808_005302.csv
2025-08-08 00:53:02,995 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Institute For Literacy_20250808_005302.html
2025-08-08 00:53:02,995 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Institute For Literacy_20250808_005302.md
2025-08-08 00:53:02,995 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-08 02:12:23,189 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-08 02:12:23,193 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-08 02:12:23,193 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-08 02:12:23,193 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 02:12:23,193 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 02:12:23,193 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-08 02:12:23,193 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-08 02:12:23,193 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-08 02:12:23,193 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: national-institute-for-literacy
2025-08-08 02:12:23,193 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-08 02:12:23,193 - cfr_document_analyzer.cli - INFO - Document limit: 999
2025-08-08 02:12:23,193 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: national-institute-for-literacy
2025-08-08 02:12:23,194 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for national-institute-for-literacy (limit: 999)
2025-08-08 02:12:23,195 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: national-institute-for-literacy
2025-08-08 02:12:23,195 - cfr_document_analyzer.document_retriever - INFO - Found 5 cached documents for national-institute-for-literacy
2025-08-08 02:12:23,195 - cfr_document_analyzer.analysis_engine - INFO - Found 5 documents to analyze
2025-08-08 02:12:23,195 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/5: E9-15728
2025-08-08 02:12:23,196 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:12:43,926 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:12:43,928 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:12:43,929 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E9-15728 in 20.73s
2025-08-08 02:12:43,933 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 2/5: E8-28719
2025-08-08 02:12:43,933 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:12:57,969 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:12:57,972 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:12:57,974 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E8-28719 in 14.04s
2025-08-08 02:12:57,979 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 3/5: E8-25822
2025-08-08 02:12:57,980 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:13:11,281 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:13:11,286 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:13:11,289 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E8-25822 in 13.31s
2025-08-08 02:13:11,293 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 4/5: E8-24063
2025-08-08 02:13:11,294 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:13:23,499 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:13:23,507 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:13:23,508 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E8-24063 in 12.21s
2025-08-08 02:13:23,512 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 5/5: E8-16029
2025-08-08 02:13:23,512 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:13:39,440 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:13:39,443 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:13:39,444 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_E8-16029 in 15.93s
2025-08-08 02:13:39,451 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 5 documents analyzed successfully
2025-08-08 02:13:39,453 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 5 analysis results for session session_20250808_021223_f9b90a2b
2025-08-08 02:13:39,453 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 02:13:39,453 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 02:13:39,453 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-08 02:13:39,453 - cfr_document_analyzer.export_manager - INFO - Exporting 5 results in formats: ['json', 'csv', 'html']
2025-08-08 02:13:39,454 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_National Institute For Literacy_20250808_021339.json
2025-08-08 02:13:39,454 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_National Institute For Literacy_20250808_021339.csv
2025-08-08 02:13:39,455 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_National Institute For Literacy_20250808_021339.html
2025-08-08 02:13:39,455 - cfr_document_analyzer.export_manager - INFO - Generating agency synopsis for: National Institute For Literacy
2025-08-08 02:13:39,455 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:13:44,834 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:13:44,838 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:13:44,839 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_agency_synopsis_National_Institute_For_Literacy in 5.38s
2025-08-08 02:13:44,841 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_National Institute For Literacy_20250808_021339.md
2025-08-08 02:13:44,841 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-08 02:52:44,465 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-08 02:52:44,466 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-08 02:52:44,466 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-08 02:52:44,466 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 02:52:44,466 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 02:52:44,466 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-08 02:52:44,466 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-08 02:52:44,466 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-08 02:52:44,466 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 02:52:44,466 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-08 02:52:44,466 - cfr_document_analyzer.cli - INFO - Document limit: 88
2025-08-08 02:52:44,466 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 02:52:44,468 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for arctic-research-commission (limit: 88)
2025-08-08 02:52:44,468 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: arctic-research-commission
2025-08-08 02:52:44,468 - cfr_document_analyzer.document_retriever - INFO - Fetching documents from https://www.federalregister.gov/documents/search for agency arctic-research-commission
2025-08-08 02:52:45,070 - cfr_document_analyzer.document_retriever - INFO - Found 43 document elements on page
2025-08-08 02:52:45,073 - cfr_document_analyzer.document_retriever - INFO - Trying JSON API as fallback...
2025-08-08 02:52:45,228 - cfr_document_analyzer.document_retriever - INFO - JSON API fallback found 10 documents
2025-08-08 02:52:45,229 - cfr_document_analyzer.document_retriever - INFO - Fetched 20 document records from web scraping
2025-08-08 02:52:45,229 - cfr_document_analyzer.document_retriever - INFO - Processing document 1/20: 2024-25860
2025-08-08 02:52:45,290 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2024/11/07/2024-25860/request-for-nominations.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2024/11/07/2024-25860/request-for-nominations.xml
2025-08-08 02:52:45,290 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document 2024-25860
2025-08-08 02:52:46,294 - cfr_document_analyzer.document_retriever - INFO - Processing document 2/20: 2020-04590
2025-08-08 02:52:46,368 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2020/03/06/2020-04590/notice-of-113th-commission-meeting.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2020/03/06/2020-04590/notice-of-113th-commission-meeting.xml
2025-08-08 02:52:46,368 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document 2020-04590
2025-08-08 02:52:47,371 - cfr_document_analyzer.document_retriever - INFO - Processing document 3/20: 2019-19719
2025-08-08 02:52:47,435 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2019/09/12/2019-19719/notice-of-112th-commission-meeting.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2019/09/12/2019-19719/notice-of-112th-commission-meeting.xml
2025-08-08 02:52:47,436 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document 2019-19719
2025-08-08 02:52:48,439 - cfr_document_analyzer.document_retriever - INFO - Processing document 4/20: 2019-07162
2025-08-08 02:52:48,508 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2019/04/11/2019-07162/notice-of-111th-commission-meeting.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2019/04/11/2019-07162/notice-of-111th-commission-meeting.xml
2025-08-08 02:52:48,508 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document 2019-07162
2025-08-08 02:52:49,512 - cfr_document_analyzer.document_retriever - INFO - Processing document 5/20: 2018-17300
2025-08-08 02:52:49,579 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2018/08/13/2018-17300/notice-of-110th-commission-meeting.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2018/08/13/2018-17300/notice-of-110th-commission-meeting.xml
2025-08-08 02:52:49,579 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document 2018-17300
2025-08-08 02:52:50,583 - cfr_document_analyzer.document_retriever - INFO - Processing document 6/20: 2018-05213
2025-08-08 02:52:50,651 - cfr_document_analyzer.document_retriever - ERROR - HTTP error fetching content from https://www.federalregister.gov/documents/full_text/xml/2018/03/15/2018-05213/notice-of-109th-commission-meeting.xml: 404 Client Error: Not Found for url: https://www.federalregister.gov/documents/full_text/xml/2018/03/15/2018-05213/notice-of-109th-commission-meeting.xml
2025-08-08 02:52:50,651 - cfr_document_analyzer.document_retriever - WARNING - No content retrieved for document 2018-05213
2025-08-08 02:52:51,656 - cfr_document_analyzer.document_retriever - INFO - Processing document 7/20: 2017-19798
2025-08-08 02:53:50,045 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-08 02:53:50,045 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-08 02:53:50,045 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-08 02:53:50,045 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 02:53:50,045 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 02:53:50,045 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-08 02:53:50,045 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-08 02:53:50,045 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-08 02:53:50,045 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 02:53:50,045 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-08 02:53:50,045 - cfr_document_analyzer.cli - INFO - Document limit: 1
2025-08-08 02:53:50,045 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 02:53:50,047 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for arctic-research-commission (limit: 1)
2025-08-08 02:53:50,047 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: arctic-research-commission
2025-08-08 02:53:50,047 - cfr_document_analyzer.document_retriever - INFO - Fetching documents from https://www.federalregister.gov/documents/search for agency arctic-research-commission
2025-08-08 02:53:50,519 - cfr_document_analyzer.document_retriever - INFO - Found 43 document elements on page
2025-08-08 02:53:50,520 - cfr_document_analyzer.document_retriever - INFO - Trying JSON API as fallback...
2025-08-08 02:53:50,681 - cfr_document_analyzer.document_retriever - INFO - JSON API fallback found 20 documents
2025-08-08 02:53:50,682 - cfr_document_analyzer.document_retriever - INFO - Fetched 20 document records from web scraping
2025-08-08 02:53:50,682 - cfr_document_analyzer.document_retriever - INFO - Processing document 1/1: 2024-25860
2025-08-08 02:53:51,873 - cfr_document_analyzer.document_retriever - INFO - Retrieved 1 documents with content for arctic-research-commission
2025-08-08 02:53:51,874 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-08 02:53:51,874 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2024-25860
2025-08-08 02:53:51,878 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:54:00,161 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:54:00,166 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:54:00,167 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:54:00,168 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:54:00,169 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:54:00,170 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_2024-25860 in 8.30s
2025-08-08 02:54:00,176 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-08 02:54:00,177 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250808_025350_781b2724
2025-08-08 02:54:00,177 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 02:54:00,177 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 02:54:00,177 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-08 02:54:00,177 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-08 02:54:00,177 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_Arctic Research Commission_20250808_025400.json
2025-08-08 02:54:00,178 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_Arctic Research Commission_20250808_025400.csv
2025-08-08 02:54:00,178 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_Arctic Research Commission_20250808_025400.html
2025-08-08 02:54:00,178 - cfr_document_analyzer.export_manager - INFO - Generating agency synopsis for: Arctic Research Commission
2025-08-08 02:54:00,178 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:54:06,279 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:54:06,282 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:54:06,283 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:54:06,283 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:54:06,284 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_agency_synopsis_Arctic_Research_Commission in 6.11s
2025-08-08 02:54:06,285 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:54:06,288 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_Arctic Research Commission_20250808_025400.md
2025-08-08 02:54:06,288 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-08 02:54:52,875 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-08 02:54:52,875 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-08 02:54:52,875 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-08 02:54:52,875 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 02:54:52,876 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 02:54:52,876 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-08 02:54:52,876 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-08 02:54:52,876 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-08 02:54:52,876 - cfr_document_analyzer.cli - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 02:54:52,876 - cfr_document_analyzer.cli - INFO - Strategy: DOGE Criteria
2025-08-08 02:54:52,876 - cfr_document_analyzer.cli - INFO - Document limit: 88
2025-08-08 02:54:52,876 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 02:54:52,877 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for arctic-research-commission (limit: 88)
2025-08-08 02:54:52,877 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: arctic-research-commission
2025-08-08 02:54:52,877 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for arctic-research-commission
2025-08-08 02:54:52,877 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-08 02:54:52,877 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2024-25860
2025-08-08 02:54:52,879 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:55:06,210 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:55:06,215 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:55:06,216 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:55:06,216 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:55:06,217 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:55:06,218 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_2024-25860 in 13.34s
2025-08-08 02:55:06,224 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-08 02:55:06,227 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250808_025452_7eba3a45
2025-08-08 02:55:06,227 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 02:55:06,227 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 02:55:06,227 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-08 02:55:06,227 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-08 02:55:06,227 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_Arctic Research Commission_20250808_025506.json
2025-08-08 02:55:06,227 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_Arctic Research Commission_20250808_025506.csv
2025-08-08 02:55:06,228 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_Arctic Research Commission_20250808_025506.html
2025-08-08 02:55:06,228 - cfr_document_analyzer.export_manager - INFO - Generating agency synopsis for: Arctic Research Commission
2025-08-08 02:55:06,228 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 02:55:13,942 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 02:55:13,946 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 02:55:13,947 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:55:13,947 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:55:13,948 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_agency_synopsis_Arctic_Research_Commission in 7.72s
2025-08-08 02:55:13,950 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 02:55:13,951 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_Arctic Research Commission_20250808_025506.md
2025-08-08 02:55:13,953 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-08 03:00:31,082 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-08 03:00:31,085 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-08 03:00:31,085 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-08 03:00:31,085 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 03:00:31,085 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 03:00:31,085 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-08 03:00:31,085 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-08 03:00:31,085 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-08 03:00:31,085 - __main__ - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 03:00:31,085 - __main__ - INFO - Strategy: DOGE Criteria
2025-08-08 03:00:31,085 - __main__ - INFO - Document limit: 10
2025-08-08 03:00:31,085 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 03:00:31,087 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for arctic-research-commission (limit: 10)
2025-08-08 03:00:31,087 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: arctic-research-commission
2025-08-08 03:00:31,088 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for arctic-research-commission
2025-08-08 03:00:31,088 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-08 03:00:31,088 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2024-25860
2025-08-08 03:00:31,090 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 03:00:40,785 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 03:00:40,786 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 03:00:40,787 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:00:40,787 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:00:40,788 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:00:40,788 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_2024-25860 in 9.70s
2025-08-08 03:00:40,793 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-08 03:00:40,793 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250808_030031_82fc9555
2025-08-08 03:00:40,793 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 03:00:40,793 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 03:00:40,793 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-08 03:00:40,793 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-08 03:00:40,794 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_Arctic Research Commission_20250808_030040.json
2025-08-08 03:00:40,794 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_Arctic Research Commission_20250808_030040.csv
2025-08-08 03:00:40,794 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_Arctic Research Commission_20250808_030040.html
2025-08-08 03:00:40,794 - cfr_document_analyzer.export_manager - INFO - Generating agency synopsis for: Arctic Research Commission
2025-08-08 03:00:40,795 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 03:00:46,954 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 03:00:46,958 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 03:00:46,958 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:00:46,958 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:00:46,958 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_agency_synopsis_Arctic_Research_Commission in 6.16s
2025-08-08 03:00:46,959 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:00:46,959 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_Arctic Research Commission_20250808_030040.md
2025-08-08 03:00:46,960 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
2025-08-08 03:05:03,483 - cfr_document_analyzer.database - INFO - Initializing database at cfr_document_analyzer.db
2025-08-08 03:05:03,486 - cfr_document_analyzer.database - INFO - Database initialized successfully
2025-08-08 03:05:03,486 - cfr_document_analyzer.document_retriever - INFO - Document retriever initialized with direct fetching
2025-08-08 03:05:03,486 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 03:05:03,486 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 03:05:03,486 - cfr_document_analyzer.prompt_manager - INFO - Loaded DOGE Criteria prompt package
2025-08-08 03:05:03,486 - cfr_document_analyzer.prompt_manager - INFO - Prompt manager initialized
2025-08-08 03:05:03,486 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine initialized
2025-08-08 03:05:03,486 - __main__ - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 03:05:03,486 - __main__ - INFO - Strategy: DOGE Criteria
2025-08-08 03:05:03,486 - __main__ - INFO - Document limit: 10
2025-08-08 03:05:03,486 - cfr_document_analyzer.analysis_engine - INFO - Starting analysis for agency: arctic-research-commission
2025-08-08 03:05:03,487 - cfr_document_analyzer.analysis_engine - INFO - Retrieving documents for arctic-research-commission (limit: 10)
2025-08-08 03:05:03,487 - cfr_document_analyzer.document_retriever - INFO - Retrieving documents for agency: arctic-research-commission
2025-08-08 03:05:03,488 - cfr_document_analyzer.document_retriever - INFO - Found 1 cached documents for arctic-research-commission
2025-08-08 03:05:03,488 - cfr_document_analyzer.analysis_engine - INFO - Found 1 documents to analyze
2025-08-08 03:05:03,488 - cfr_document_analyzer.analysis_engine - INFO - Analyzing document 1/1: 2024-25860
2025-08-08 03:05:03,490 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 03:05:18,057 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 03:05:18,063 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 03:05:18,064 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:05:18,065 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:05:18,066 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:05:18,066 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_2024-25860 in 14.58s
2025-08-08 03:05:18,074 - cfr_document_analyzer.analysis_engine - INFO - Analysis completed: 1 documents analyzed successfully
2025-08-08 03:05:18,074 - cfr_document_analyzer.analysis_engine - INFO - Retrieved 1 analysis results for session session_20250808_030503_2cf9a100
2025-08-08 03:05:18,074 - cfr_document_analyzer.llm_client - INFO - Gemini API key loaded from environment
2025-08-08 03:05:18,074 - cfr_document_analyzer.llm_client - INFO - LLM client initialized with model: gemini/gemini-2.5-flash
2025-08-08 03:05:18,075 - cfr_document_analyzer.export_manager - INFO - Export manager initialized with output dir: results
2025-08-08 03:05:18,075 - cfr_document_analyzer.export_manager - INFO - Exporting 1 results in formats: ['json', 'csv', 'html']
2025-08-08 03:05:18,075 - cfr_document_analyzer.export_manager - INFO - Exported JSON: results/cfr_analysis_Arctic Research Commission_20250808_030518.json
2025-08-08 03:05:18,075 - cfr_document_analyzer.export_manager - INFO - Exported CSV: results/cfr_analysis_Arctic Research Commission_20250808_030518.csv
2025-08-08 03:05:18,075 - cfr_document_analyzer.export_manager - INFO - Exported HTML: results/cfr_analysis_Arctic Research Commission_20250808_030518.html
2025-08-08 03:05:18,075 - cfr_document_analyzer.export_manager - INFO - Generating agency synopsis for: Arctic Research Commission
2025-08-08 03:05:18,076 - LiteLLM - INFO - 
LiteLLM completion() model= gemini-2.5-flash; provider = gemini
2025-08-08 03:05:39,607 - httpx - INFO - HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=AIzaSyAl6z7uEiSZfwx7ALFOv1Nurr4cTmujwlE "HTTP/1.1 200 OK"
2025-08-08 03:05:39,610 - LiteLLM - INFO - Wrapper: Completed Call, calling success_handler
2025-08-08 03:05:39,610 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:05:39,611 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:05:39,611 - nimble_llm_caller.core.llm_caller - INFO - ✅ Successful LLM call to gemini/gemini-2.5-flash for doge_analysis_agency_synopsis_Arctic_Research_Commission in 21.54s
2025-08-08 03:05:39,613 - LiteLLM - INFO - selected model name for cost calculation: gemini/gemini-2.5-flash
2025-08-08 03:05:39,614 - cfr_document_analyzer.export_manager - INFO - Created agency presentation summary: results/agency_presentation_Arctic Research Commission_20250808_030518.md
2025-08-08 03:05:39,614 - cfr_document_analyzer.analysis_engine - INFO - Analysis engine closed
